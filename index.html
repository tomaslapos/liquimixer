<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LiquiMixer - Nejlep≈°√≠ Kalkul√°tor E-liquid≈Ø Zdarma | M√≠ch√°n√≠ Nikotinu, PG/VG, P≈ô√≠chut√≠</title>
    
    <!-- SEO Meta Tags - Psychologicky optimalizovan√© pro vysokou CTR -->
    <meta name="description" content="üß™ M√≠ch√°te vlastn√≠ e-liquid? LiquiMixer vypoƒç√≠t√° p≈ôesn√© d√°vkov√°n√≠ nikotinu, PG/VG pomƒõr a p≈ô√≠chutƒõ bƒõhem sekund. ‚úÖ Zdarma ‚úÖ Offline ‚úÖ 31 jazyk≈Ø ‚úÖ Ukl√°d√°n√≠ recept≈Ø. U≈°et≈ôete a≈æ 80% n√°klad≈Ø na vapov√°n√≠!">
    <meta name="keywords" content="e-liquid kalkul√°tor, kalkul√°tor e-liquid≈Ø, DIY vape, m√≠ch√°n√≠ e-liquid≈Ø, nikotin kalkul√°tor, nikotin kalkulaƒçka, PG VG pomƒõr, PG VG kalkul√°tor, vape recept, e-juice mixer, e-juice kalkul√°tor, vapov√°n√≠, elektronick√© cigarety, jak m√≠chat e-liquid, v√Ωpoƒçet nikotinu, levn√© vapov√°n√≠, DIY liquid, dom√°c√≠ e-liquid, vape kalkulaƒçka online, mixing calculator, nikotinov√° b√°ze v√Ωpoƒçet, 72mg nikotin kalkul√°tor, recept na e-liquid, vape recepty zdarma">
    <meta name="author" content="WOOs s.r.o.">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://www.liquimixer.com/">
    
    <!-- Open Graph / Facebook - Optimalizov√°no pro sd√≠len√≠ -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.liquimixer.com/">
    <meta property="og:title" content="üß™ LiquiMixer - M√≠chej E-liquid jako Prof√≠k | Kalkul√°tor Zdarma">
    <meta property="og:description" content="P≈ôesta≈à platit za drah√© e-liquidy! S LiquiMixerem si nam√≠ch√°≈° vlastn√≠ za zlomek ceny. P≈ôesn√© v√Ωpoƒçty nikotinu, PG/VG a p≈ô√≠chut√≠. ‚úÖ Zdarma ‚úÖ Funguje offline ‚úÖ 31 jazyk≈Ø">
    <meta property="og:image" content="https://www.liquimixer.com/icons/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="LiquiMixer - Profesion√°ln√≠ kalkul√°tor pro m√≠ch√°n√≠ e-liquid≈Ø s neon retro designem">
    <meta property="og:locale" content="cs_CZ">
    <meta property="og:locale:alternate" content="en_US">
    <meta property="og:locale:alternate" content="de_DE">
    <meta property="og:locale:alternate" content="sk_SK">
    <meta property="og:locale:alternate" content="pl_PL">
    <meta property="og:site_name" content="LiquiMixer">
    
    <!-- Twitter Card - Optimalizov√°no pro engagement -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.liquimixer.com/">
    <meta name="twitter:title" content="üß™ LiquiMixer - Kalkul√°tor E-liquid≈Ø Zdarma">
    <meta name="twitter:description" content="Vypoƒç√≠tej p≈ôesn√© d√°vkov√°n√≠ nikotinu, PG/VG a p≈ô√≠chut√≠ bƒõhem sekund. U≈°et≈ôi a≈æ 80% na vapov√°n√≠! #DIYvape #eliquid">
    <meta name="twitter:image" content="https://www.liquimixer.com/icons/og-image.png">
    <meta name="twitter:image:alt" content="LiquiMixer - E-liquid Kalkul√°tor s retro neon designem">
    <meta name="twitter:creator" content="@liquimixer">
    <meta name="twitter:site" content="@liquimixer">
    
    <!-- Structured Data - Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "LiquiMixer",
        "alternateName": "LiquiMixer E-liquid Calculator",
        "description": "Professional e-liquid mixing calculator for DIY vapers. Calculate nicotine, PG/VG ratios, and flavor percentages with precision.",
        "url": "https://www.liquimixer.com",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "browserRequirements": "Requires JavaScript. Works offline as PWA.",
        "softwareVersion": "2.0",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CZK",
            "description": "Free basic features, premium subscription available"
        },
        "featureList": [
            "Nicotine strength calculator",
            "PG/VG ratio calculator", 
            "Flavor percentage calculator",
            "Recipe storage and management",
            "Multi-language support (31 languages)",
            "Offline functionality (PWA)",
            "Cloud sync across devices"
        ],
        "screenshot": "https://www.liquimixer.com/icons/screenshot.png",
        "author": {
            "@type": "Organization",
            "name": "WOOs s.r.o.",
            "url": "https://www.liquimixer.com"
        },
        "publisher": {
            "@type": "Organization",
            "name": "WOOs s.r.o.",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.liquimixer.com/icons/icon-512.png"
            }
        },
        "inLanguage": ["cs", "sk", "en", "de", "pl", "fr", "es", "it", "nl", "pt", "ru", "uk", "hu", "ro", "bg", "hr", "sr", "el", "tr", "ar", "ja", "ko", "zh-CN", "zh-TW", "sv", "no", "da", "fi", "et", "lv", "lt"],
        "isAccessibleForFree": true,
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "150",
            "bestRating": "5",
            "worstRating": "1"
        }
    }
    </script>
    
    <!-- Structured Data - Organization -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "LiquiMixer",
        "url": "https://www.liquimixer.com",
        "logo": "https://www.liquimixer.com/icons/icon-512.png",
        "description": "Professional e-liquid mixing calculator for DIY vapers",
        "foundingDate": "2025",
        "foundingLocation": "Czech Republic",
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer service",
            "availableLanguage": ["Czech", "English", "German", "Slovak"]
        },
        "sameAs": []
    }
    </script>
    
    <!-- Structured Data - FAQ for rich snippets (roz≈°√≠≈ôen√© pro vy≈°≈°√≠ vyhled√°vac√≠ dosah) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Co je LiquiMixer a k ƒçemu slou≈æ√≠?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "LiquiMixer je bezplatn√Ω profesion√°ln√≠ online kalkul√°tor pro m√≠ch√°n√≠ e-liquid≈Ø. Automaticky vypoƒç√≠t√° p≈ôesn√© mno≈æstv√≠ nikotinov√© b√°ze, PG/VG pomƒõr a procenta p≈ô√≠chut√≠ pro vytvo≈ôen√≠ vlastn√≠ho e-liquidu. Funguje offline, podporuje 31 jazyk≈Ø a umo≈æ≈àuje ukl√°d√°n√≠ recept≈Ø."
                }
            },
            {
                "@type": "Question",
                "name": "Je LiquiMixer zdarma?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Ano, kalkul√°tor LiquiMixer je zcela zdarma. Z√°kladn√≠ funkce vƒçetnƒõ v√Ωpoƒçtu nikotinu, PG/VG a p≈ô√≠chut√≠ jsou bezplatn√© bez registrace. Pro pokroƒçil√© funkce jako ukl√°d√°n√≠ recept≈Ø do cloudu a synchronizaci mezi za≈ô√≠zen√≠mi je k dispozici pr√©miov√© p≈ôedplatn√© za p≈ôibli≈ænƒõ 290 Kƒç roƒçnƒõ."
                }
            },
            {
                "@type": "Question", 
                "name": "Jak vypoƒç√≠tat pomƒõr PG/VG pro e-liquid?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "V LiquiMixeru jednodu≈°e zadejte po≈æadovan√Ω pomƒõr PG/VG (nap≈ô. 50/50 nebo 30/70 VG), c√≠lovou s√≠lu nikotinu a velikost d√°vky. Kalkul√°tor automaticky vypoƒç√≠t√° p≈ôesn√© mno≈æstv√≠ ka≈æd√© slo≈æky v ml. PG (propylenglykol) nese l√©pe chu≈• a poskytuje silnƒõj≈°√≠ throat hit, VG (glycerin) vytv√°≈ô√≠ v√≠ce p√°ry a je hlad≈°√≠."
                }
            },
            {
                "@type": "Question",
                "name": "Jak z≈ôedit 72mg nikotinovou b√°zi na 3mg?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Pro z≈ôedƒõn√≠ 72mg nikotinu na 3mg pot≈ôebujete p≈ôibli≈ænƒõ 4,17% nikotinov√© b√°ze v celkov√©m objemu. Nap≈ô√≠klad pro 100ml e-liquidu s 3mg nikotinem pou≈æijete 4,17ml b√°ze 72mg/ml. LiquiMixer tento v√Ωpoƒçet provede automaticky - staƒç√≠ zadat s√≠lu va≈°√≠ b√°ze a c√≠lov√Ω nikotin."
                }
            },
            {
                "@type": "Question",
                "name": "Kolik procent p≈ô√≠chutƒõ d√°t do e-liquidu?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Mno≈æstv√≠ p≈ô√≠chutƒõ z√°vis√≠ na typu a v√Ωrobci. Obecnƒõ plat√≠: ovocn√© p≈ô√≠chutƒõ 8-15%, dezertn√≠ a kr√©mov√© 12-20%, tab√°kov√© 5-12%, mentolov√© 3-8%. LiquiMixer umo≈æ≈àuje kombinovat v√≠ce p≈ô√≠chut√≠ a sleduje celkov√© procento. Doporuƒçujeme zaƒç√≠t s ni≈æ≈°√≠m procentem a postupnƒõ p≈ôid√°vat."
                }
            },
            {
                "@type": "Question",
                "name": "V kolika jazyc√≠ch je LiquiMixer dostupn√Ω?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "LiquiMixer je plnƒõ lokalizov√°n do 31 jazyk≈Ø: ƒçe≈°tina, sloven≈°tina, angliƒçtina, nƒõmƒçina, pol≈°tina, francouz≈°tina, ≈°panƒõl≈°tina, ital≈°tina, holand≈°tina, portugal≈°tina, ru≈°tina, ukrajin≈°tina, maƒèar≈°tina, rumun≈°tina, bulhar≈°tina, chorvat≈°tina, srb≈°tina, ≈ôeƒçtina, tureƒçtina, arab≈°tina, japon≈°tina, korej≈°tina, ƒç√≠n≈°tina (zjednodu≈°en√° i tradiƒçn√≠), ≈°v√©d≈°tina, nor≈°tina, d√°n≈°tina, fin≈°tina, eston≈°tina, loty≈°tina a litev≈°tina."
                }
            },
            {
                "@type": "Question",
                "name": "Kolik u≈°et≈ô√≠m m√≠ch√°n√≠m vlastn√≠ch e-liquid≈Ø?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "M√≠ch√°n√≠m vlastn√≠ch e-liquid≈Ø m≈Ø≈æete u≈°et≈ôit 60-80% oproti kupovan√Ωm. Zat√≠mco 10ml komerƒçn√≠ho e-liquidu stoj√≠ 80-150 Kƒç, dom√°c√≠ v√Ωroba vyjde na 15-30 Kƒç. P≈ôi spot≈ôebƒõ 10ml dennƒõ je roƒçn√≠ √∫spora a≈æ 40 000 Kƒç. LiquiMixer v√°m pom≈Ø≈æe optimalizovat receptury a sledovat n√°klady."
                }
            },
            {
                "@type": "Question",
                "name": "Funguje LiquiMixer offline bez internetu?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Ano, LiquiMixer je progresivn√≠ webov√° aplikace (PWA), kter√° funguje plnƒõ offline. Po prvn√≠ n√°v≈°tƒõvƒõ se aplikace ulo≈æ√≠ do va≈°eho za≈ô√≠zen√≠ a m≈Ø≈æete ji pou≈æ√≠vat kdykoli bez p≈ôipojen√≠ k internetu. M≈Ø≈æete si ji tak√© 'nainstalovat' na domovskou obrazovku jako bƒõ≈ænou aplikaci."
                }
            },
            {
                "@type": "Question",
                "name": "Jak dlouho mus√≠ e-liquid zr√°t (steeping)?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Doba zr√°n√≠ z√°vis√≠ na typu p≈ô√≠chutƒõ: ovocn√© a mentolov√© 1-3 dny, kr√©mov√© a dezertn√≠ 1-2 t√Ωdny, tab√°kov√© 2-4 t√Ωdny. Bƒõhem zr√°n√≠ se p≈ô√≠chutƒõ prol√≠naj√≠ a chu≈• se zjem≈àuje. Skladujte v temnu p≈ôi pokojov√© teplotƒõ a obƒças prot≈ôepejte."
                }
            },
            {
                "@type": "Question",
                "name": "Je m√≠ch√°n√≠ vlastn√≠ch e-liquid≈Ø bezpeƒçn√©?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Ano, pokud dodr≈æujete bezpeƒçnostn√≠ pravidla. Pou≈æ√≠vejte pouze ingredience urƒçen√© pro vaping (nikdy oleje!). P≈ôi pr√°ci s koncentrovan√Ωm nikotinem (72mg+) noste rukavice a chra≈àte oƒçi. Pracujte v dob≈ôe vƒõtran√©m prostoru. Nikotinovou b√°zi skladujte mimo dosah dƒõt√≠. LiquiMixer v√°s upozorn√≠, pokud p≈ôekroƒç√≠te bezpeƒçn√© koncentrace."
                }
            }
        ]
    }
    </script>
    
    <!-- Hreflang for multi-language SEO -->
    <link rel="alternate" hreflang="cs" href="https://www.liquimixer.com/?lang=cs">
    <link rel="alternate" hreflang="sk" href="https://www.liquimixer.com/?lang=sk">
    <link rel="alternate" hreflang="en" href="https://www.liquimixer.com/?lang=en">
    <link rel="alternate" hreflang="de" href="https://www.liquimixer.com/?lang=de">
    <link rel="alternate" hreflang="x-default" href="https://www.liquimixer.com/">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#ff00ff">
    <meta name="background-color" content="#0a0a15">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="LiquiMixer">
    <meta name="application-name" content="LiquiMixer">
    <meta name="msapplication-TileColor" content="#ff00ff">
    <meta name="msapplication-navbutton-color" content="#ff00ff">
    
    <!-- Security -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://*.clerk.accounts.dev https://*.clerk.com https://clerk.liquimixer.com https://www.gstatic.com https://*.firebaseio.com blob:;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://*.clerk.accounts.dev;
        font-src 'self' https://fonts.gstatic.com;
        img-src 'self' data: https: blob:;
        connect-src 'self' https://*.supabase.co https://*.clerk.accounts.dev https://*.clerk.com wss://*.supabase.co https://*.googleapis.com https://*.firebaseio.com https://fcm.googleapis.com;
        frame-src 'self' https://*.clerk.accounts.dev https://*.clerk.com https://accounts.google.com https://www.facebook.com https://appleid.apple.com https://*.tiktok.com https://www.tiktok.com;
        worker-src 'self' blob:;
        upgrade-insecure-requests;
    ">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/svg+xml" href="/icons/icon.svg">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192.png">
    
    <!-- Fonts & Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css?v=20260110b">
    
    <!-- Clerk Authentication -->
    <script 
        async 
        crossorigin="anonymous" 
        data-clerk-publishable-key="pk_test_c3Rhci1jaG93LTQ1LmNsZXJrLmFjY291bnRzLmRldiQ"
        src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
        type="text/javascript">
    </script>
    
    <!-- Supabase Database -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/database.js"></script>
    <script src="/i18n.js"></script>
</head>
<body>
    <div class="neon-grid"></div>
    <div class="neon-clouds">
        <!-- Lev√° strana -->
        <div class="cloud cloud-left-1"></div>
        <div class="cloud cloud-left-2"></div>
        <div class="cloud cloud-left-3"></div>
        <div class="cloud cloud-left-4"></div>
        <div class="cloud cloud-left-5"></div>
        <div class="cloud cloud-left-6"></div>
        <!-- Prav√° strana -->
        <div class="cloud cloud-right-1"></div>
        <div class="cloud cloud-right-2"></div>
        <div class="cloud cloud-right-3"></div>
        <div class="cloud cloud-right-4"></div>
        <div class="cloud cloud-right-5"></div>
        <div class="cloud cloud-right-6"></div>
    </div>
    
    <div class="container">
        <!-- Horn√≠ navigace -->
        <nav class="top-nav">
            <div class="nav-left">
                <button class="nav-btn home-btn" onclick="goHome()" id="homeButton" title="Dom≈Ø">
                    <svg class="home-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </button>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn menu-btn" onclick="toggleMenu()">
                    <span class="nav-icon">‚ò∞</span>
                    <span class="nav-text" data-i18n="nav.menu">Menu</span>
                </button>
                <button class="nav-btn login-btn" onclick="showLoginModal()">
                    <span class="nav-icon">üë§</span>
                    <span class="nav-text" data-i18n="nav.login">P≈ôihl√°≈°en√≠</span>
                </button>
            </div>
        </nav>

        <!-- Menu dropdown -->
        <div id="menuDropdown" class="menu-dropdown hidden">
            <div class="menu-content">
                <button class="menu-close" onclick="toggleMenu()">‚úï</button>
                <h3 class="menu-title" data-i18n="menu.title">Menu</h3>
                <div class="menu-section">
                    <h4 class="menu-section-title" data-i18n="menu.cookies_title">Cookies</h4>
                    <p class="menu-text" data-i18n="menu.cookies_text">
                        Str√°nka Liquimixer neshroma≈æƒèuje ≈æ√°dn√© cookies. Tato aplikace nepou≈æ√≠v√° sledovac√≠ cookies, 
                        analytick√© cookies ani cookies t≈ôet√≠ch stran. Va≈°e soukrom√≠ je pro n√°s prioritou.
                    </p>
                </div>
                <div class="menu-section">
                    <h4 class="menu-section-title" data-i18n="menu.gdpr_title">GDPR a ochrana osobn√≠ch √∫daj≈Ø</h4>
                    <p class="menu-text" data-i18n="menu.gdpr_text">
                        Osobn√≠ √∫daje jsou ukl√°d√°ny v√Ωhradnƒõ pro intern√≠ pou≈æit√≠ str√°nky Liquimixer za √∫ƒçelem
                        p≈ôihl√°≈°en√≠ u≈æivatele do aplikace. Va≈°e √∫daje nejsou sd√≠leny s t≈ôet√≠mi stranami
                        ani pou≈æ√≠v√°ny pro marketingov√© √∫ƒçely. M√°te pr√°vo po≈æ√°dat o v√Ωmaz sv√Ωch √∫daj≈Ø
                        kdykoli kontaktov√°n√≠m str√°nky Liquimixer.
                    </p>
                </div>
                <div class="menu-section">
                    <h4 class="menu-section-title" data-i18n="menu.contact_title">Kontaktn√≠ formul√°≈ô</h4>
                    <form class="contact-form" id="contactForm">
                        <div class="form-group-login">
                            <label class="login-label" data-i18n="menu.contact_email">V√°≈° e-mail</label>
                            <input type="email" id="contactEmail" class="login-input" data-i18n-placeholder="menu.contact_email_placeholder" placeholder="vas@email.cz" required>
                        </div>
                        <div class="form-group-login">
                            <label class="login-label" data-i18n="menu.contact_category">Kategorie</label>
                            <select id="contactCategory" class="login-input contact-select" required>
                                <option value="" disabled selected data-i18n="menu.contact_category_placeholder">Vyberte kategorii...</option>
                                <option value="technical" data-i18n="menu.contact_cat_technical">Technick√Ω probl√©m / Chyba aplikace</option>
                                <option value="payment" data-i18n="menu.contact_cat_payment">Platba / P≈ôedplatn√© / Fakturace</option>
                                <option value="recipe" data-i18n="menu.contact_cat_recipe">Dotaz k recept≈Øm / M√≠ch√°n√≠</option>
                                <option value="account" data-i18n="menu.contact_cat_account">M≈Øj √∫ƒçet / P≈ôihl√°≈°en√≠</option>
                                <option value="suggestion" data-i18n="menu.contact_cat_suggestion">N√°vrh na vylep≈°en√≠</option>
                                <option value="gdpr" data-i18n="menu.contact_cat_gdpr">GDPR / Smaz√°n√≠ √∫daj≈Ø</option>
                                <option value="other" data-i18n="menu.contact_cat_other">Jin√©</option>
                            </select>
                        </div>
                        <div class="form-group-login">
                            <label class="login-label" data-i18n="menu.contact_subject">P≈ôedmƒõt</label>
                            <input type="text" id="contactSubject" class="login-input" data-i18n-placeholder="menu.contact_subject_placeholder" placeholder="T√©ma zpr√°vy" required>
                        </div>
                        <div class="form-group-login">
                            <label class="login-label" data-i18n="menu.contact_message">Zpr√°va</label>
                            <textarea id="contactMessage" class="login-input contact-textarea" data-i18n-placeholder="menu.contact_message_placeholder" placeholder="Va≈°e zpr√°va..." required></textarea>
                        </div>
                        <!-- Honeypot anti-spam (skryt√Ω pro boty) -->
                        <div class="form-group-login" style="display: none;" aria-hidden="true">
                            <input type="text" id="contactHoneypot" name="website" tabindex="-1" autocomplete="off">
                        </div>
                        <div id="contactStatus" class="contact-status"></div>
                        <button type="submit" class="neon-button contact-submit" id="contactSubmitBtn">
                            <span id="contactSubmitText" data-i18n="menu.contact_submit">Odeslat zpr√°vu</span>
                            <span id="contactSubmitLoader" class="btn-loader hidden"></span>
                        </button>
                    </form>
                    <button class="neon-button menu-terms-btn" onclick="toggleMenu(); showTermsModal();" style="margin-top: 20px;">
                        <span data-i18n="menu.terms_button">Zobrazit obchodn√≠ podm√≠nky</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Login modal -->
        <div id="loginModal" class="login-modal hidden" onclick="handleLoginModalBackdropClick(event)">
            <div class="login-content">
                <button class="menu-close" id="loginModalCloseBtn" onclick="handleLoginModalClose()">‚úï</button>
                <h3 class="menu-title" data-i18n="auth.login_title">P≈ôihl√°≈°en√≠</h3>
                <p class="login-subtitle" data-i18n="auth.login_subtitle">P≈ôihlaste se pro p≈ô√≠stup k ulo≈æen√Ωm recept≈Øm a produkt≈Øm</p>
                <div id="clerk-sign-in"></div>
            </div>
        </div>
        
        <!-- User Profile modal -->
        <div id="userProfileModal" class="login-modal hidden" onclick="handleProfileModalBackdropClick(event)">
            <div class="login-content">
                <button class="menu-close" onclick="hideUserProfileModal()">‚úï</button>
                <h3 class="menu-title" data-i18n="auth.profile_title">M≈Øj √∫ƒçet</h3>
                
                <!-- Informace o u≈æivateli -->
                <div id="userProfileInfo" class="profile-info"></div>
                
                <!-- Akce v profilu -->
                <div class="profile-actions">
                    <button class="neon-button profile-neon-btn" onclick="showMyRecipes()">
                        <span data-i18n="auth.my_recipes">M√© recepty</span>
                        <div class="button-glow"></div>
                    </button>
                    <button class="neon-button profile-neon-btn" onclick="showFavoriteProducts()">
                        <span data-i18n="auth.favorite_products">Obl√≠ben√© produkty</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
                
                <!-- V√Ωbƒõr jazyka v profilu -->
                <div class="profile-language-section">
                    <label class="profile-language-label" data-i18n="auth.language_label">Jazyk aplikace</label>
                    <div id="profileLanguageSelector"></div>
                </div>
                
                <!-- Stav p≈ôedplatn√©ho -->
                <div id="subscriptionStatus" class="subscription-status-section"></div>

                <!-- Odhl√°≈°en√≠ -->
                <div class="profile-actions">
                    <button class="neon-button profile-neon-btn btn-red" onclick="signOut()">
                        <span data-i18n="auth.logout">Odhl√°sit se</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Subscription Payment Modal -->
        <div id="subscriptionModal" class="login-modal hidden" style="background: #000000 !important; backdrop-filter: none !important;" onclick="handleSubscriptionModalBackdropClick(event)">
            <div class="login-content subscription-modal-content">
                <button class="menu-close" onclick="handleSubscriptionModalClose()">‚úï</button>
                <h3 class="menu-title" data-i18n="subscription.title">P≈ôedplatn√© LiquiMixer</h3>
                
                <!-- Detekce lokace (spoleƒçn√°) -->
                <div id="locationDetection" class="location-detection">
                    <p data-i18n="subscription.detecting_location">Zji≈°≈•ujeme va≈°i polohu...</p>
                    <div class="loader"></div>
                </div>
                
                <!-- STAV A: Pro nep≈ôihl√°≈°en√© - cena, features, OP, tlaƒç√≠tko Registrovat -->
                <div id="guestState" class="subscription-state hidden">
                    <!-- Cenov√° informace -->
                    <div class="pricing-box">
                        <div class="pricing-amount">
                            <span id="priceAmount">59</span>
                            <span id="priceCurrency">Kƒç</span>
                            <span class="pricing-period" data-i18n="subscription.per_year">/ rok</span>
                        </div>
                        <p class="pricing-vat" id="pricingVatInfo" data-i18n="subscription.price_includes_vat">Cena je vƒçetnƒõ DPH</p>
                    </div>
                    
                    <ul class="subscription-features">
                        <li data-i18n="subscription.feature_pro_multiflavor">Liquid PRO s a≈æ 4 p≈ô√≠chutƒõmi</li>
                        <li data-i18n="subscription.feature_recipes">Neomezen√© ukl√°d√°n√≠ recept≈Ø</li>
                        <li data-i18n="subscription.feature_products">Obl√≠ben√© produkty s hodnocen√≠m</li>
                        <li data-i18n="subscription.feature_share">Sd√≠len√≠ recept≈Ø s p≈ô√°teli</li>
                        <li data-i18n="subscription.feature_sync">Synchronizace mezi za≈ô√≠zen√≠mi</li>
                        <li data-i18n="subscription.feature_priority_support">Prioritn√≠ podpora</li>
                    </ul>
                    
                    <!-- Obchodn√≠ podm√≠nky -->
                    <div class="terms-section">
                        <label class="terms-checkbox-label">
                            <input type="checkbox" id="termsCheckboxGuest" class="terms-checkbox" onchange="updateGuestPayButton()">
                            <span>
                                <span data-i18n="subscription.agree_to">Souhlas√≠m s</span>
                                <a href="#" onclick="showTermsModal(); return false;" data-i18n="subscription.terms_link">obchodn√≠mi podm√≠nkami</a>
                            </span>
                        </label>
                    </div>
                    
                    <!-- Tlaƒç√≠tko Registrovat a zaplatit -->
                    <div class="payment-section">
                        <button class="neon-button payment-btn" id="registerAndPayBtn" onclick="startRegistrationAndPayment()" disabled>
                            <span data-i18n="subscription.register_and_pay">Registrovat a zaplatit</span>
                            <div class="button-glow"></div>
                        </button>
                    </div>
                    
                    <!-- Odkaz pro p≈ôihl√°≈°en√≠ -->
                    <p class="login-hint">
                        <span data-i18n="subscription.already_have_account">Ji≈æ m√°te √∫ƒçet?</span>
                        <a href="#" onclick="goToLoginFromSubscription(); return false;" data-i18n="auth.login_button">P≈ôihl√°sit se</a>
                    </p>
                </div>
                
                <!-- STAV B: Pro p≈ôihl√°≈°en√© - potvrzen√≠ a tlaƒç√≠tko Zaplatit -->
                <div id="loggedInState" class="subscription-state hidden">
                    <!-- Potvrzen√≠ p≈ôihl√°≈°en√≠ -->
                    <div class="logged-in-confirm">
                        <span class="confirm-icon">‚úì</span>
                        <p data-i18n="subscription.logged_in_as">Jste p≈ôihl√°≈°en jako:</p>
                        <p class="user-email" id="loggedInUserEmail"></p>
                    </div>
                    
                    <!-- Cenov√° informace (kompaktn√≠) -->
                    <div class="pricing-box compact">
                        <div class="pricing-amount">
                            <span id="priceAmountLoggedIn">59</span>
                            <span id="priceCurrencyLoggedIn">Kƒç</span>
                            <span class="pricing-period" data-i18n="subscription.per_year">/ rok</span>
                        </div>
                    </div>
                    
                    <!-- Tlaƒç√≠tko Zaplatit -->
                    <div class="payment-section">
                        <button class="neon-button payment-btn" id="paySubscriptionBtn" onclick="startPayment()">
                            <span data-i18n="subscription.pay_button_simple">Zaplatit</span>
                            <div class="button-glow"></div>
                        </button>
                    </div>
                    
                    <!-- Info o p≈ôesmƒõrov√°n√≠ -->
                    <p class="payment-redirect-info" data-i18n="subscription.redirect_info">Budete p≈ôesmƒõrov√°ni na platebn√≠ br√°nu GP WebPay</p>
                </div>
                
                <!-- Chybov√° zpr√°va -->
                <div id="subscriptionError" class="subscription-error hidden"></div>
            </div>
        </div>

        <!-- Login Required Modal (pro nep≈ôihl√°≈°en√© u≈æivatele) -->
        <div id="loginRequiredModal" class="login-modal hidden" onclick="handleLoginRequiredModalBackdropClick(event)">
            <div class="login-content login-required-content">
                <button class="menu-close" onclick="hideLoginRequiredModal()">‚úï</button>
                <h3 class="menu-title" data-i18n="auth.premium_access_title">Z√≠skej p≈ô√≠stup k pr√©miov√Ωm funkc√≠m</h3>
                <p class="login-required-text" data-i18n="auth.premium_access_text">P≈ôihlas se nebo se zaregistruj a odemkni v≈°echny pr√©miov√© funkce LiquiMixer!</p>
                
                <div class="subscription-promo">
                    <h4 data-i18n="subscription.promo_title">S p≈ôedplatn√Ωm LiquiMixer PRO z√≠sk√°te:</h4>
                    <ul class="subscription-features compact">
                        <li data-i18n="subscription.feature_pro_multiflavor">Perfektn√≠ vyladƒõn√≠ s a≈æ 4 p≈ô√≠chutƒõmi</li>
                        <li data-i18n="subscription.feature_recipes">Neomezen√© ukl√°d√°n√≠ recept≈Ø</li>
                        <li data-i18n="subscription.feature_products">Obl√≠ben√© produkty s hodnocen√≠m</li>
                        <li data-i18n="subscription.feature_share">Sd√≠len√≠ recept≈Ø s p≈ô√°teli</li>
                        <li data-i18n="subscription.feature_sync">Synchronizace mezi za≈ô√≠zen√≠mi</li>
                    </ul>
                    <div class="promo-price">
                        <span class="promo-price-amount price-cz" data-i18n="subscription.promo_price_cz">jenom 59 Kƒç / rok</span>
                        <span class="promo-price-amount price-eu hidden" data-i18n="subscription.promo_price_eu">only ‚Ç¨2.40 / year</span>
                        <span class="promo-price-amount price-usd hidden" data-i18n="subscription.promo_price_usd">only $2.90 / year</span>
                    </div>
                </div>
                
                <div class="login-required-actions">
                    <button class="neon-button" onclick="handleLoginFromRequired()">
                        <span data-i18n="auth.login_button">P≈ôihl√°sit se</span>
                        <div class="button-glow"></div>
                    </button>
                    <button class="neon-button secondary" onclick="handleRegisterFromRequired()">
                        <span data-i18n="auth.register_button">Registrovat se</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Terms and Conditions Modal -->
        <div id="termsModal" class="login-modal hidden" onclick="handleTermsModalBackdropClick(event)">
            <div class="login-content terms-modal-content">
                <button class="menu-close" onclick="hideTermsModal()">‚úï</button>
                <h3 class="menu-title" data-i18n="terms.title">Obchodn√≠ podm√≠nky</h3>
                
                <div class="terms-content">
                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section1_title">1. √övodn√≠ ustanoven√≠</h4>
                        <p data-i18n="terms.section1_text">Tyto obchodn√≠ podm√≠nky upravuj√≠ pr√°va a povinnosti smluvn√≠ch stran p≈ôi poskytov√°n√≠ slu≈æby LiquiMixer, provozovan√© spoleƒçnost√≠ WOOs, s. r. o., Iƒå: 05117810, DIƒå: CZ05117810, se s√≠dlem Brloh 12, 397 01 Drhovle.</p>
                    </section>
                    
                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section2_title">2. P≈ôedmƒõt smlouvy</h4>
                        <p data-i18n="terms.section2_text">P≈ôedmƒõtem smlouvy je poskytnut√≠ p≈ô√≠stupu k online aplikaci LiquiMixer pro v√Ωpoƒçet receptur e-liquid≈Ø na dobu 365 dn√≠ od data aktivace p≈ôedplatn√©ho.</p>
                    </section>
                    
                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section3_title">3. Cena a platebn√≠ podm√≠nky</h4>
                        <p data-i18n="terms.section3_text">Cena p≈ôedplatn√©ho je uvedena vƒçetnƒõ DPH. Platba je jednor√°zov√° a prov√°d√≠ se prost≈ôednictv√≠m platebn√≠ br√°ny Comgate. Po √∫spƒõ≈°n√© platbƒõ je automaticky vystavena faktura.</p>
                    </section>
                    
                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section4_title">4. Odstoupen√≠ od smlouvy</h4>
                        <p data-i18n="terms.section4_text">Vzhledem k povaze digit√°ln√≠ho obsahu a okam≈æit√© aktivaci slu≈æby souhlas√≠ spot≈ôebitel s t√≠m, ≈æe ztr√°c√≠ pr√°vo na odstoupen√≠ od smlouvy ve smyslu ¬ß 1837 p√≠sm. l) obƒçansk√©ho z√°kon√≠ku.</p>
                    </section>
                    
                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section5_title">5. Reklamace</h4>
                        <p data-i18n="terms.section5_text">V p≈ô√≠padƒõ technick√Ωch probl√©m≈Ø se slu≈æbou kontaktujte podporu prost≈ôednictv√≠m kontaktn√≠ho formul√°≈ôe. Reklamace budou vy≈ô√≠zeny do 30 dn≈Ø.</p>
                    </section>
                    
                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section6_title">6. Ochrana osobn√≠ch √∫daj≈Ø</h4>
                        <p data-i18n="terms.section6_text">Zpracov√°n√≠ osobn√≠ch √∫daj≈Ø se ≈ô√≠d√≠ Na≈ô√≠zen√≠m GDPR. √ödaje jsou zpracov√°v√°ny pouze pro √∫ƒçely poskytov√°n√≠ slu≈æby a nejsou p≈ôed√°v√°ny t≈ôet√≠m stran√°m s v√Ωjimkou platebn√≠ br√°ny.</p>
                    </section>

                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section7_title">7. Prohl√°≈°en√≠ u≈æivatele</h4>
                        <p data-i18n="terms.section7_text">Pou≈æ√≠v√°n√≠m aplikace LiquiMixer u≈æivatel potvrzuje, ≈æe dos√°hl vƒõku 18 let. U≈æivatel bere na vƒõdom√≠, ≈æe LiquiMixer slou≈æ√≠ v√Ωhradnƒõ jako v√Ωpoƒçetn√≠ n√°stroj (kalkulaƒçka) a nep≈ôeb√≠r√° ≈æ√°dnou odpovƒõdnost za v√Ωsledn√Ω produkt. Ve≈°kerou odpovƒõdnost za spr√°vn√© m√≠ch√°n√≠, manipulaci s ingrediencemi a dodr≈æen√≠ bezpeƒçnostn√≠ch postup≈Ø nese u≈æivatel.</p>
                    </section>

                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section8_title">8. Upozornƒõn√≠ a vylouƒçen√≠ odpovƒõdnosti</h4>
                        <p data-i18n="terms.section8_text">Tato str√°nka neslou≈æ√≠ k prodeji vapovac√≠ch za≈ô√≠zen√≠, e-liquid≈Ø ani jin√Ωch produkt≈Ø souvisej√≠c√≠ch s vapov√°n√≠m. Provozovatel nepropaguje vapov√°n√≠ ani kou≈ôen√≠. Vapov√°n√≠ a pou≈æ√≠v√°n√≠ nikotinov√Ωch produkt≈Ø po≈°kozuje zdrav√≠. Aplikace LiquiMixer funguje v√Ωhradnƒõ jako kalkulaƒçka pro v√Ωpoƒçet receptur a nep≈ôeb√≠r√° ≈æ√°dnou odpovƒõdnost za pou≈æit√≠ tƒõchto v√Ωpoƒçt≈Ø.</p>
                    </section>

                    <section class="terms-section-content">
                        <h4 data-i18n="terms.section9_title">9. Kontaktn√≠ √∫daje</h4>
                        <p>WOOs, s. r. o.<br>
                        Brloh 12, 397 01 Drhovle<br>
                        Iƒå: 05117810<br>
                        DIƒå: CZ05117810</p>
                    </section>
                </div>
                
                <div class="terms-footer">
                    <button class="neon-button" onclick="hideTermsModal()">
                        <span data-i18n="terms.close">Zav≈ô√≠t</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- √övodn√≠ str√°nka -->
        <section id="intro" class="page active">
            <div class="logo-container">
                <h1 class="neon-title">
                    <span class="letter l1">L</span>
                    <span class="letter l2">I</span>
                    <span class="letter l3">Q</span>
                    <span class="letter l4">U</span>
                    <span class="letter l5">I</span>
                    <span class="letter l6">M</span>
                    <span class="letter l7">I</span>
                    <span class="letter l8">X</span>
                    <span class="letter l9">E</span>
                    <span class="letter l10">R</span>
                </h1>
                <div class="subtitle" data-i18n="intro.subtitle">E-LIQUID KALKUL√ÅTOR</div>
            </div>
            
            <!-- Kr√°tk√Ω popis aplikace -->
            <div class="app-description-box">
                <p class="app-description-text" data-i18n="intro.app_description">
                    Kalkul√°tor pro bezpeƒçn√© m√≠ch√°n√≠ e-liquid≈Ø s p≈ôesn√Ωm v√Ωpoƒçtem PG/VG pomƒõru, p≈ô√≠chut√≠ a nikotinu. Nezaƒç√≠nejte v≈ædy znova a ukl√°dejte si obl√≠ben√© recepty a produkty nebo je sd√≠lejte s p≈ô√°teli. Funguje tak√© jako offline aplikace ve 31 jazyc√≠ch.
                </p>
            </div>
            
            <!-- Upozornƒõn√≠ p≈ôed zah√°jen√≠m -->
            <div class="disclaimer-section">
                <h3 class="disclaimer-title" data-i18n="intro.disclaimer_title">Upozornƒõn√≠</h3>
                <p class="disclaimer-text" data-i18n="intro.disclaimer_text">
                    Kliknut√≠m na tlaƒç√≠tko 'Zaƒç√≠t m√≠ch√°n√≠' potvrzuji, ≈æe jsem dos√°hl/a vƒõku 18 let.
                    Beru na vƒõdom√≠, ≈æe LiquiMixer slou≈æ√≠ v√Ωhradnƒõ jako v√Ωpoƒçetn√≠ n√°stroj (kalkulaƒçka)
                    a nep≈ôeb√≠r√° ≈æ√°dnou odpovƒõdnost za v√Ωsledn√Ω produkt. Ve≈°kerou odpovƒõdnost za spr√°vn√©
                    m√≠ch√°n√≠, manipulaci s ingrediencemi a dodr≈æen√≠ bezpeƒçnostn√≠ch postup≈Ø nese u≈æivatel.
                </p>
            </div>

            <button class="neon-button" onclick="showPage('mode-select')">
                <span data-i18n="intro.start_button">ZAƒå√çT M√çCH√ÅN√ç</span>
                <div class="button-glow"></div>
            </button>
        </section>

        <!-- V√Ωbƒõr re≈æimu -->
        <section id="mode-select" class="page">
            <h2 class="page-title" data-i18n="mode_select.title">Co chcete p≈ôipravit?</h2>
            
            <div class="warning-box">
                <h2 class="warning-title" data-i18n="intro.warning_title">P≈ôi m√≠ch√°n√≠ se soust≈ôeƒète na dodr≈æov√°n√≠ bezpeƒçnostn√≠ch z√°sad</h2>
                <p class="warning-text" data-i18n="intro.warning_text">
                    P≈ôi m√≠ch√°n√≠ e-liquidu v≈ædy noste ochrann√© rukavice a pracujte v dob≈ôe vƒõtran√©m prostoru, 
                    zejm√©na pokud pou≈æ√≠v√°te nikotinov√© boostery. Pou≈æ√≠vejte pouze kvalitn√≠ slo≈æky bez p≈ô√≠mƒõs√≠ 
                    a s potravin√°≈ôskou certifikac√≠ vhodn√© pro vapov√°n√≠ od ovƒõ≈ôen√Ωch dodavatel≈Ø. 
                    Dodr≈æujte p≈ôesn√© pomƒõry ingredienc√≠. Hotov√Ω liquid skladujte mimo dosah dƒõt√≠ a zv√≠≈ôat.
                </p>
            </div>
            
            <div class="prep-box">
                <h3 class="prep-title" data-i18n="intro.prep_title">P≈ôed m√≠ch√°n√≠m si p≈ôipravte:</h3>
                <div class="prep-grid">
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_pg">Propylenglykol (PG)</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_pg_detail">Propylenglykol je bezbarv√° kapalina bez z√°pachu, kter√° tvo≈ô√≠ z√°klad e-liquid≈Ø. Zaji≈°≈•uje p≈ôenos chuti a vytv√°≈ô√≠ charakteristick√Ω "throat hit" (pocit v krku). Je hygroskopick√Ω, proto jej skladujte v uzav≈ôen√© n√°dobƒõ. PG je obecnƒõ pova≈æov√°n za bezpeƒçn√Ω pro inhalaci a pou≈æ√≠v√° se i v potravin√°≈ôstv√≠ a farmacii.</p>
                        </div>
                    </div>
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_vg">Rostlinn√Ω glycerin (VG)</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_vg_detail">Rostlinn√Ω glycerin je hust√°, sladk√° kapalina z√≠sk√°van√° z rostlinn√Ωch olej≈Ø. Je zodpovƒõdn√Ω za tvorbu hust√©ho d√Ωmu a dod√°v√° liquidu jemnou sladkost. ƒå√≠m vy≈°≈°√≠ pomƒõr VG, t√≠m hustƒõj≈°√≠ p√°ra, ale m√©nƒõ v√Ωrazn√° chu≈•. VG je vhodn√Ω pro p≈ô√≠m√© vdechov√°n√≠ (DL) a v√Ωkonn√© vapovac√≠ za≈ô√≠zen√≠.</p>
                        </div>
                    </div>
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_flavors">Volitelnƒõ p≈ô√≠chutƒõ</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_flavors_detail">P≈ô√≠chutƒõ pro e-liquidy jsou koncentrovan√© aromata speci√°lnƒõ urƒçen√© pro vapov√°n√≠. Pou≈æ√≠vejte v√Ωhradnƒõ p≈ô√≠chutƒõ urƒçen√© pro e-liquidy, nikoliv potravin√°≈ôsk√° aromata! Koncentrace se obvykle pohybuje mezi 5-20% podle typu p≈ô√≠chutƒõ. Ovocn√© p≈ô√≠chutƒõ jsou intenzivnƒõj≈°√≠, dezertn√≠ a tab√°kov√© vy≈æaduj√≠ vy≈°≈°√≠ procento a del≈°√≠ zr√°n√≠.</p>
                        </div>
                    </div>
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_nicotine">Nikotin booster nebo s≈Øl</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_nicotine_detail"><strong>Nikotin booster:</strong> Tradiƒçn√≠ forma nikotinu s v√Ωraznƒõj≈°√≠m throat hitem. Vhodn√Ω pro bƒõ≈æn√© vapov√°n√≠.<br><br><strong>Nikotinov√° s≈Øl:</strong> Jemnƒõj≈°√≠ forma nikotinu, kter√° se rychleji vst≈ôeb√°v√° a m√° slab≈°√≠ throat hit i p≈ôi vy≈°≈°√≠ch koncentrac√≠ch. Vhodn√° pro pod syst√©my a MTL za≈ô√≠zen√≠. POZOR: Nikotin je jed! V≈ædy pou≈æ√≠vejte rukavice a pracujte v dob≈ôe vƒõtran√©m prostoru.</p>
                        </div>
                    </div>
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_gloves">Zdravotnick√© rukavice</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_gloves_detail">Nitrylov√© nebo latexov√© rukavice jsou nezbytn√© p≈ôi pr√°ci s nikotinem. Nikotin se snadno vst≈ôeb√°v√° k≈Ø≈æ√≠ a m≈Ø≈æe zp≈Øsobit otravu. Rukavice tak√© chr√°n√≠ p≈ôed kontaminac√≠ smƒõsi a udr≈æuj√≠ sterilitu. Pou≈æ√≠vejte jednor√°zov√© rukavice a po pr√°ci je bezpeƒçnƒõ zlikvidujte. P≈ôi pot≈ô√≠snƒõn√≠ poko≈æky nikotinem d≈Økladnƒõ omyjte m√Ωdlem a vodou.</p>
                        </div>
                    </div>
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_bottle">Pr√°zdn√° sklenƒõn√° lahviƒçka</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_bottle_detail">Sklenƒõn√© lahviƒçky jsou ide√°ln√≠ pro skladov√°n√≠ e-liquid≈Ø, proto≈æe nereaguj√≠ s obsahem a neovliv≈àuj√≠ chu≈•. Tmav√© sklo (amber) chr√°n√≠ p≈ôed UV z√°≈ôen√≠m a prodlu≈æuje trvanlivost. Pro m√≠ch√°n√≠ jsou vhodn√© lahviƒçky s kap√°tkem nebo √∫zk√Ωm hrdlem. P≈ôed pou≈æit√≠m lahviƒçky v≈ædy d≈Økladnƒõ vyƒçistƒõte a osu≈°te.</p>
                        </div>
                    </div>
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_dropper">Kap√°tko, pipeta nebo st≈ô√≠kaƒçka</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_dropper_detail">Pro p≈ôesn√© d√°vkov√°n√≠ ingredienc√≠ jsou nezbytn√© mƒõ≈ôic√≠ n√°stroje. <strong>Kap√°tko:</strong> Vhodn√© pro men≈°√≠ objemy, m√©nƒõ p≈ôesn√©. <strong>Pipeta:</strong> P≈ôesnƒõj≈°√≠ ne≈æ kap√°tko, vhodn√° pro st≈ôedn√≠ objemy. <strong>St≈ô√≠kaƒçka (bez jehly):</strong> Nejp≈ôesnƒõj≈°√≠ varianta, ide√°ln√≠ pro nikotin. Pou≈æ√≠vejte samostatn√© n√°stroje pro ka≈ædou ingredienci, aby nedo≈°lo ke kontaminaci.</p>
                        </div>
                    </div>
                    <div class="prep-item-accordion">
                        <button class="prep-item-btn" onclick="togglePrepDetail(this)">
                            <span data-i18n="intro.prep_measuring">Mƒõ≈ô√≠c√≠ pom≈Øcky</span>
                            <span class="prep-arrow">‚ñº</span>
                        </button>
                        <div class="prep-detail">
                            <p data-i18n="intro.prep_measuring_detail">Pro p≈ôesn√© m√≠ch√°n√≠ pot≈ôebujete spolehliv√© mƒõ≈ô√≠c√≠ pom≈Øcky. <strong>Odmƒõrn√© v√°lce:</strong> Pro mƒõ≈ôen√≠ objemu v ml. <strong>St≈ô√≠kaƒçky s mƒõ≈ôen√≠m:</strong> R≈Øzn√© velikosti pro r≈Øzn√© ingredience (1ml pro nikotin, 5-10ml pro VG/PG). V≈ædy mƒõ≈ôte dvakr√°t a m√≠chejte jednou!</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mode-buttons">
                <button class="mode-button cyan" onclick="showPage('form')">
                    <div class="mode-title" data-i18n="mode_select.liquid_title">eLiquid</div>
                    <div class="mode-desc" data-i18n="mode_select.liquid_desc">Kompletn√≠ e-liquid s p≈ô√≠chut√≠, nikotinem a nosnou l√°tkou</div>
                </button>
                
                <button class="mode-button pink" onclick="showPage('dilute-form')">
                    <div class="mode-title" data-i18n="mode_select.dilute_title">≈òedƒõn√≠ nikotinov√© b√°ze</div>
                    <div class="mode-desc" data-i18n="mode_select.dilute_desc">Z≈ôedƒõn√≠ siln√© nikotinov√© b√°ze na po≈æadovanou koncentraci</div>
                </button>
            </div>
            
            <button class="neon-button secondary" onclick="showPage('intro')">
                <span data-i18n="mode_select.back">‚óÄ ZPƒöT</span>
            </button>
        </section>

        <!-- Formul√°≈ô pro ≈ôedƒõn√≠ nikotinu -->
        <section id="dilute-form" class="page">
            <h2 class="page-title" data-i18n="dilute.title">≈òedƒõn√≠ nikotinov√© b√°ze</h2>
            
            <!-- Volba mno≈æstv√≠ -->
            <div class="form-group">
                <div class="amount-choice-container">
                    <div class="amount-choice">
                        <input type="radio" id="amountFinal" name="amountType" value="final" checked onchange="updateDiluteAmountType()">
                        <label for="amountFinal" data-i18n="dilute.amount_final">Kolik b√°ze chci nam√≠chat?</label>
                        <div class="input-wrapper">
                            <input type="number" id="diluteFinalAmount" min="1" max="1000" value="100" class="neon-input" oninput="updateDiluteCalculation()">
                            <span class="input-unit" data-i18n="common.ml">ml</span>
                        </div>
                    </div>
                    <div class="amount-divider" data-i18n="dilute.amount_or">nebo</div>
                    <div class="amount-choice">
                        <input type="radio" id="amountSource" name="amountType" value="source" onchange="updateDiluteAmountType()">
                        <label for="amountSource" data-i18n="dilute.amount_source">Kolik b√°ze chci roz≈ôedit?</label>
                        <div class="input-wrapper">
                            <input type="number" id="diluteSourceAmount" min="1" max="1000" value="30" class="neon-input" disabled oninput="updateDiluteCalculation()">
                            <span class="input-unit" data-i18n="common.ml">ml</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Nikotinov√° b√°ze - zdroj -->
            <div class="form-group">
                <label class="form-label">
                    <span data-i18n="dilute.source_label">Jak silnou m√°m nikotinovou b√°zi?</span>
                    <span class="label-hint" data-i18n="dilute.source_hint">√ödaje z obalu nikotinu</span>
                </label>
                <div class="dilute-nicotine-container">
                    <select id="diluteNicotineType" class="neon-select" onchange="updateDiluteNicotineType()">
                        <option value="freebase" data-i18n="form.nicotine_booster">Nikotin booster</option>
                        <option value="salt" data-i18n="form.nicotine_salt">Nikotinov√° s≈Øl</option>
                    </select>
                    <div class="input-wrapper">
                        <input type="number" id="diluteBaseStrength" min="3" max="200" value="20" class="neon-input medium" oninput="updateDiluteCalculation()">
                        <span class="input-unit" data-i18n="common.mg_ml">mg/ml</span>
                    </div>
                </div>
                <div class="form-group-sub">
                    <label class="form-label-small" data-i18n="dilute.source_ratio_label">Pomƒõr VG/PG v koncentr√°tu</label>
                    <div class="ratio-container compact">
                        <div class="ratio-labels">
                            <span class="ratio-label left" data-i18n="form.vg_label">D√Ωm (VG)</span>
                            <span class="ratio-label right" data-i18n="form.pg_label">Chu≈• (PG)</span>
                        </div>
                        <div class="slider-container">
                            <button class="slider-btn small" onclick="adjustDiluteSourceRatio(-5)">‚óÄ</button>
                            <div class="slider-wrapper">
                                <input type="range" id="diluteSourceRatio" min="0" max="100" value="50" class="ratio-slider" oninput="updateDiluteSourceRatioDisplay()">
                                <div class="slider-track" id="diluteSourceTrack"></div>
                            </div>
                            <button class="slider-btn small" onclick="adjustDiluteSourceRatio(5)">‚ñ∂</button>
                        </div>
                        <div class="ratio-display small">
                            <span id="diluteSourceVg">50</span>:<span id="diluteSourcePg">50</span>
                        </div>
                        <div class="ratio-description" id="diluteSourceDescription">
                            Vyv√°≈æen√Ω pomƒõr p√°ry a chuti, vhodn√Ω pro vƒõt≈°inu za≈ô√≠zen√≠.
                        </div>
                    </div>
                </div>
            </div>

            <!-- C√≠lov√° s√≠la a pomƒõr -->
            <div class="form-group">
                <label class="form-label" data-i18n="dilute.target_label">
                    Jak silnou nikotinovou b√°zi chci nam√≠chat?
                </label>
                <div class="input-wrapper">
                    <input type="number" id="diluteTargetStrength" min="1" max="200" value="6" class="neon-input medium" oninput="updateDiluteCalculation()">
                    <span class="input-unit" data-i18n="common.mg_ml">mg/ml</span>
                </div>
                <div id="diluteTargetWarning" class="input-warning hidden"></div>
                
                <div class="form-group-sub">
                    <label class="form-label-small" data-i18n="dilute.target_ratio_label">Pomƒõr VG/PG ve v√Ωsledn√© b√°zi</label>
                    <div class="ratio-container compact">
                        <div class="ratio-labels">
                            <span class="ratio-label left" data-i18n="form.vg_label">D√Ωm (VG)</span>
                            <span class="ratio-label right" data-i18n="form.pg_label">Chu≈• (PG)</span>
                        </div>
                        <div class="slider-container">
                            <button class="slider-btn small" onclick="adjustDiluteTargetRatio(-5)">‚óÄ</button>
                            <div class="slider-wrapper-with-limits">
                                <span class="slider-limit left">100</span>
                                <div class="slider-wrapper ratio-slider-wrapper">
                                    <div class="slider-disabled-zone left" id="diluteDisabledLeft"></div>
                                    <div class="slider-disabled-zone right" id="diluteDisabledRight"></div>
                                    <input type="range" id="diluteTargetRatio" min="0" max="100" value="50" class="ratio-slider" oninput="updateDiluteTargetRatioDisplay()">
                                    <div class="slider-track" id="diluteTargetTrack"></div>
                                    <div class="slider-center-mark"></div>
                                </div>
                                <span class="slider-limit right">100</span>
                            </div>
                            <button class="slider-btn small" onclick="adjustDiluteTargetRatio(5)">‚ñ∂</button>
                        </div>
                        <div class="ratio-display small">
                            <span id="diluteTargetVg">50</span>:<span id="diluteTargetPg">50</span>
                        </div>
                        <div class="ratio-description" id="diluteTargetDescription">
                            Vyv√°≈æen√Ω pomƒõr p√°ry a chuti, vhodn√Ω pro vƒõt≈°inu za≈ô√≠zen√≠.
                        </div>
                        <div id="diluteRatioWarning" class="input-warning hidden"></div>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="neon-button secondary" onclick="showPage('mode-select')">
                    <span data-i18n="dilute.back">‚óÄ ZPƒöT</span>
                </button>
                <button class="neon-button" onclick="calculateDilution()">
                    <span data-i18n="dilute.mix_button">MIXUJ!</span>
                    <div class="button-glow"></div>
                </button>
            </div>
        </section>

        <!-- V√Ωsledky ≈ôedƒõn√≠ -->
        <section id="dilute-results" class="page">
            <h2 class="page-title" data-i18n="results.dilute_title">Recept na ≈ôedƒõn√≠</h2>
            
            <div class="results-summary">
                <div class="summary-item">
                    <span class="summary-label" data-i18n="results.total_volume">Celkov√Ω objem:</span>
                    <span class="summary-value" id="diluteResultTotal">100 ml</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label" data-i18n="results.ratio">Pomƒõr VG/PG:</span>
                    <span class="summary-value" id="diluteResultRatio">50:50</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label" data-i18n="results.nicotine">S√≠la nikotinu:</span>
                    <span class="summary-value" id="diluteResultNicotine">6 mg/ml</span>
                </div>
            </div>

            <div class="results-table-container">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th data-i18n="results.table_component">Slo≈æka</th>
                            <th data-i18n="results.table_volume">Objem (ml)</th>
                            <th data-i18n="results.table_percent">Procento</th>
                        </tr>
                    </thead>
                    <tbody id="diluteResultsBody">
                    </tbody>
                </table>
            </div>

            <div class="results-notes">
                <h4 data-i18n="results.dilute_notes_title">Pozn√°mky k ≈ôedƒõn√≠:</h4>
                <ul>
                    <li data-i18n="results.dilute_notes_1">Pracujte v rukavic√≠ch - nikotin se vst≈ôeb√°v√° k≈Ø≈æ√≠!</li>
                    <li data-i18n="results.dilute_notes_2">Nejprve nalijte nikotinovou b√°zi</li>
                    <li data-i18n="results.dilute_notes_3">Pot√© p≈ôidejte VG a PG</li>
                    <li data-i18n="results.dilute_notes_4">D≈Økladnƒõ prot≈ôepejte</li>
                </ul>
            </div>

            <div class="button-group">
                <button class="neon-button secondary" onclick="showPage('dilute-form')">
                    <span data-i18n="results.edit">‚óÄ UPRAVIT</span>
                </button>
            </div>
        </section>

        <!-- Formul√°≈ô -->
        <section id="form" class="page">
            <h2 class="page-title" data-i18n="form.config_title">Konfigurace smƒõsi</h2>
            
            <!-- Z√°lo≈æky pro v√Ωbƒõr typu formul√°≈ôe -->
            <div class="form-tabs">
                <button type="button" class="form-tab active" data-tab="liquid" onclick="switchFormTab('liquid')" data-i18n="form.tab_liquid">Liquid</button>
                <button type="button" class="form-tab tab-green" data-tab="shakevape" onclick="switchFormTab('shakevape')" data-i18n="form.tab_shakevape">Shake & Vape</button>
                <button type="button" class="form-tab tab-red" data-tab="liquidpro" onclick="switchFormTab('liquidpro')" data-i18n="form.tab_liquidpro">Liquid PRO</button>
            </div>

            <!-- ============================================ -->
            <!-- LIQUID - Standardn√≠ formul√°≈ô -->
            <!-- ============================================ -->
            <div id="form-liquid" class="form-content form-cyan active">
                <!-- Mno≈æstv√≠ liquidu -->
                <div class="form-group">
                    <label class="form-label" data-i18n="form.amount_label">
                        Kolik liquidu chci nam√≠chat?
                    </label>
                    <div class="input-wrapper">
                        <input type="number" id="totalAmount" min="1" max="1000" value="100" class="neon-input">
                        <span class="input-unit" data-i18n="common.ml">ml</span>
                    </div>
                </div>

                <!-- Nikotinov√° b√°ze -->
                <div class="form-group">
                    <label class="form-label">
                        <span data-i18n="form.nicotine_base_label">Jak silnou m√°m nikotinovou b√°zi?</span>
                        <span class="label-hint" data-i18n="form.nicotine_base_hint">Tyto √∫daje opi≈° z obalu nikotinu</span>
                    </label>
                    <div class="nicotine-base-container">
                        <select id="nicotineType" class="neon-select" onchange="updateNicotineType()">
                            <option value="none" data-i18n="form.nicotine_none">Bez nikotinu</option>
                            <option value="freebase" data-i18n="form.nicotine_booster">Nikotin booster</option>
                            <option value="salt" data-i18n="form.nicotine_salt">Nikotinov√° s≈Øl</option>
                        </select>
                        <div id="nicotineStrengthContainer" class="hidden">
                            <input type="number" id="nicotineBaseStrength" min="3" max="200" value="20" class="neon-input medium">
                            <span class="input-unit" data-i18n="common.mg_ml">mg/ml</span>
                            <div id="nicotineWarning" class="input-warning hidden"></div>
                        </div>
                    </div>
                    <div id="nicotineRatioContainer" class="hidden">
                        <label class="form-label-small" data-i18n="form.nicotine_ratio_label">Pomƒõr VG/PG v koncentr√°tu</label>
                        <div class="ratio-toggle-buttons">
                            <button type="button" id="ratio5050" class="ratio-toggle-btn active" data-value="50/50">50/50</button>
                            <button type="button" id="ratio7030" class="ratio-toggle-btn" data-value="70/30">70/30</button>
                        </div>
                        <input type="hidden" id="nicotineRatio" value="50/50">
                    </div>
                </div>

                <!-- C√≠lov√° s√≠la nikotinu -->
                <div class="form-group" id="targetNicotineGroup">
                    <label class="form-label" data-i18n="form.target_nicotine_label">
                        Jak silnou chci fin√°ln√≠ nikotinovou b√°zi na vapov√°n√≠?
                    </label>
                    <div class="target-nicotine-container">
                        <div class="slider-container">
                            <button class="slider-btn" onclick="adjustTargetNicotine(-1)">‚óÄ</button>
                            <div class="slider-wrapper">
                                <input type="range" id="targetNicotine" min="0" max="45" value="0" class="nicotine-slider">
                                <div class="slider-track nicotine-track" id="nicotineTrack"></div>
                            </div>
                            <button class="slider-btn" onclick="adjustTargetNicotine(1)">‚ñ∂</button>
                        </div>
                        <div class="nicotine-display">
                            <span id="targetNicotineValue">0</span> mg/ml
                        </div>
                        <div class="nicotine-description" id="nicotineDescription">
                            Bez nikotinu - vhodn√© pro neku≈ô√°ky nebo postupn√© odvyk√°n√≠.
                        </div>
                    </div>
                </div>

                <!-- P≈ô√≠chu≈• -->
                <div class="form-group">
                    <label class="form-label" data-i18n="form.flavor_label">
                        P≈ô√≠chu≈•
                    </label>
                    <div class="flavor-container">
                        <select id="flavorType" class="neon-select" onchange="updateFlavorType()">
                            <option value="none" data-i18n="form.flavor_none">≈Ω√°dn√° (bez p≈ô√≠chutƒõ)</option>
                            <option value="fruit" data-i18n="form.flavor_fruit">Ovoce (jahoda, jablko)</option>
                            <option value="citrus" data-i18n="form.flavor_citrus">Citr√≥nov√© (citron, limeta)</option>
                            <option value="berry" data-i18n="form.flavor_berry">Bobulov√© (bor≈Øvka, malina)</option>
                            <option value="tropical" data-i18n="form.flavor_tropical">Tropick√© (ananas, mango)</option>
                            <option value="tobacco" data-i18n="form.flavor_tobacco">Tab√°kov√© (klasick√Ω, kub√°nsk√Ω)</option>
                            <option value="menthol" data-i18n="form.flavor_menthol">Mentol / M√°tov√©</option>
                            <option value="candy" data-i18n="form.flavor_candy">Sladkosti (cukrov√≠, karamel)</option>
                            <option value="dessert" data-i18n="form.flavor_dessert">Dezerty (kol√°ƒç, pudink)</option>
                            <option value="bakery" data-i18n="form.flavor_bakery">Z√°kusky (tyƒçinka, donut)</option>
                            <option value="biscuit" data-i18n="form.flavor_biscuit">Pi≈°kotov√© (vanilka, m√°slo)</option>
                            <option value="drink" data-i18n="form.flavor_drink">N√°pojov√© (kola, ƒçaj)</option>
                            <option value="tobaccosweet" data-i18n="form.flavor_tobaccosweet">Tab√°k + sladk√© (custard tobacco)</option>
                            <option value="nuts" data-i18n="form.flavor_nuts">O≈ô√≠≈°kov√© (ara≈°√≠d, l√≠skov√Ω)</option>
                            <option value="spice" data-i18n="form.flavor_spice">Ko≈ôenƒõn√© (sko≈ôice, pern√≠k)</option>
                        </select>
                        <div id="flavorStrengthContainer" class="hidden">
                            <div class="slider-container small">
                                <button class="slider-btn small" onclick="adjustFlavor(-1)">‚óÄ</button>
                                <div class="slider-wrapper">
                                    <input type="range" id="flavorStrength" min="0" max="30" value="10" class="flavor-slider">
                                    <div class="slider-track flavor-track" id="flavorTrack"></div>
                                </div>
                                <button class="slider-btn small" onclick="adjustFlavor(1)">‚ñ∂</button>
                            </div>
                            <div class="flavor-display">
                                <span id="flavorValue">10</span>%
                            </div>
                            <div class="flavor-description" id="flavorDescription">
                                Ide√°ln√≠ chu≈•
                            </div>
                            <div class="form-group-sub">
                                <label class="form-label-small" data-i18n="form.flavor_ratio_label">Pomƒõr VG/PG v p≈ô√≠chuti</label>
                                <div class="ratio-toggle-buttons">
                                    <button type="button" id="flavorRatio0100" class="ratio-toggle-btn active" data-value="0/100">0/100</button>
                                    <button type="button" id="flavorRatio8020" class="ratio-toggle-btn" data-value="80/20">80/20</button>
                                    <button type="button" id="flavorRatio7030" class="ratio-toggle-btn" data-value="70/30">70/30</button>
                                </div>
                                <input type="hidden" id="flavorRatio" value="0/100">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pomƒõr VG/PG ve v√Ωsledn√©m liquidu -->
                <div class="form-group" id="vgPgRatioGroup">
                    <label class="form-label" data-i18n="form.vgpg_label">
                        Pomƒõr VG/PG ve v√Ωsledn√©m liquidu
                    </label>
                    <div class="ratio-container">
                        <div class="ratio-labels">
                            <span class="ratio-label left" data-i18n="form.vg_label">D√Ωm (VG)</span>
                            <span class="ratio-label right" data-i18n="form.pg_label">Chu≈• (PG)</span>
                        </div>
                        <div class="slider-container">
                            <button class="slider-btn" onclick="adjustRatio(-5)">‚óÄ</button>
                            <div class="slider-wrapper-with-limits">
                                <span class="slider-limit left">100</span>
                                <div class="slider-wrapper ratio-slider-wrapper">
                                    <div class="slider-disabled-zone left" id="sliderDisabledLeft">
                                        <span class="limit-value" id="limitValueLeft"></span>
                                    </div>
                                    <div class="slider-disabled-zone right" id="sliderDisabledRight">
                                        <span class="limit-value" id="limitValueRight"></span>
                                    </div>
                                    <input type="range" id="vgPgRatio" min="0" max="100" value="50" class="ratio-slider">
                                    <div class="slider-track" id="sliderTrack"></div>
                                    <div class="slider-center-mark"></div>
                                </div>
                                <span class="slider-limit right">100</span>
                            </div>
                            <button class="slider-btn" onclick="adjustRatio(5)">‚ñ∂</button>
                        </div>
                        <div class="ratio-display">
                            <span id="vgValue">50</span>:<span id="pgValue">50</span>
                        </div>
                        <div class="ratio-description" id="ratioDescription">
                            Vyv√°≈æen√Ω pomƒõr p√°ry a chuti, vhodn√Ω pro vƒõt≈°inu za≈ô√≠zen√≠.
                        </div>
                        <div id="ratioLimitWarning" class="input-warning hidden"></div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="neon-button secondary" onclick="showPage('mode-select')">
                        <span data-i18n="form.back">‚óÄ ZPƒöT</span>
                    </button>
                    <button class="neon-button" onclick="calculateMix()">
                        <span data-i18n="form.mix_button">MIXUJ!</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
            </div>

            <!-- ============================================ -->
            <!-- SHAKE & VAPE - Neonovƒõ zelen√Ω formul√°≈ô -->
            <!-- ============================================ -->
            <div id="form-shakevape" class="form-content form-green">
                <!-- Celkov√Ω objem n√°doby -->
                <div class="form-group">
                    <label class="form-label" data-i18n="shakevape.total_volume">
                        Celkov√Ω objem n√°doby Shake & Vape?
                    </label>
                    <div class="input-wrapper">
                        <input type="number" id="svTotalAmount" min="1" max="1000" value="60" class="neon-input">
                        <span class="input-unit" data-i18n="common.ml">ml</span>
                    </div>
                </div>

                <!-- Objem p≈ô√≠chutƒõ - druh√© pole -->
                <div class="form-group">
                    <label class="form-label">
                        <span data-i18n="shakevape.flavor_volume">Objem p≈ô√≠chutƒõ</span>
                        <span class="label-hint" data-i18n="shakevape.flavor_volume_hint">Objem p≈ô√≠chutƒõ ji≈æ v lahviƒçce</span>
                    </label>
                    <div class="input-wrapper">
                        <input type="number" id="svFlavorVolume" min="0" max="100" value="12" class="neon-input" oninput="updateSvCalculation()">
                        <span class="input-unit" data-i18n="common.ml">ml</span>
                    </div>
                    <div class="form-group-sub">
                        <label class="form-label-small" data-i18n="form.flavor_ratio_label">Pomƒõr VG/PG v p≈ô√≠chuti</label>
                        <div class="ratio-toggle-buttons">
                            <button type="button" id="svFlavorRatio0100" class="ratio-toggle-btn active" data-value="0/100">0/100</button>
                            <button type="button" id="svFlavorRatio8020" class="ratio-toggle-btn" data-value="80/20">80/20</button>
                            <button type="button" id="svFlavorRatio7030" class="ratio-toggle-btn" data-value="70/30">70/30</button>
                        </div>
                        <input type="hidden" id="svFlavorRatio" value="0/100">
                    </div>
                </div>

                <!-- Nikotinov√° b√°ze -->
                <div class="form-group">
                    <label class="form-label">
                        <span data-i18n="form.nicotine_base_label">Jak silnou m√°m nikotinovou b√°zi?</span>
                        <span class="label-hint" data-i18n="form.nicotine_base_hint">Tyto √∫daje opi≈° z obalu nikotinu</span>
                    </label>
                    <div class="nicotine-base-container">
                        <select id="svNicotineType" class="neon-select" onchange="updateSvNicotineType()">
                            <option value="none" data-i18n="form.nicotine_none">Bez nikotinu</option>
                            <option value="freebase" data-i18n="form.nicotine_booster">Nikotin booster</option>
                            <option value="salt" data-i18n="form.nicotine_salt">Nikotinov√° s≈Øl</option>
                        </select>
                        <div id="svNicotineStrengthContainer" class="hidden">
                            <input type="number" id="svNicotineBaseStrength" min="3" max="200" value="20" class="neon-input medium">
                            <span class="input-unit" data-i18n="common.mg_ml">mg/ml</span>
                        </div>
                    </div>
                    <div id="svNicotineRatioContainer" class="hidden">
                        <label class="form-label-small" data-i18n="form.nicotine_ratio_label">Pomƒõr VG/PG v koncentr√°tu</label>
                        <div class="ratio-toggle-buttons">
                            <button type="button" id="svRatio5050" class="ratio-toggle-btn active" data-value="50/50">50/50</button>
                            <button type="button" id="svRatio7030" class="ratio-toggle-btn" data-value="70/30">70/30</button>
                        </div>
                        <input type="hidden" id="svNicotineRatio" value="50/50">
                    </div>
                </div>

                <!-- C√≠lov√° s√≠la nikotinu -->
                <div class="form-group" id="svTargetNicotineGroup">
                    <label class="form-label" data-i18n="form.target_nicotine_label">
                        Jak silnou chci fin√°ln√≠ nikotinovou b√°zi na vapov√°n√≠?
                    </label>
                    <div class="target-nicotine-container">
                        <div class="slider-container">
                            <button class="slider-btn" onclick="adjustSvTargetNicotine(-1)">‚óÄ</button>
                            <div class="slider-wrapper">
                                <input type="range" id="svTargetNicotine" min="0" max="45" value="0" class="nicotine-slider">
                                <div class="slider-track nicotine-track" id="svNicotineTrack"></div>
                            </div>
                            <button class="slider-btn" onclick="adjustSvTargetNicotine(1)">‚ñ∂</button>
                        </div>
                        <div class="nicotine-display">
                            <span id="svTargetNicotineValue">0</span> mg/ml
                        </div>
                        <div class="nicotine-description" id="svNicotineDescription">
                            Bez nikotinu - vhodn√© pro neku≈ô√°ky nebo postupn√© odvyk√°n√≠.
                        </div>
                    </div>
                </div>

                <!-- Pomƒõr VG/PG ve v√Ωsledn√©m liquidu -->
                <div class="form-group">
                    <label class="form-label" data-i18n="form.vgpg_label">
                        Pomƒõr VG/PG ve v√Ωsledn√©m liquidu
                    </label>
                    <div class="ratio-container">
                        <div class="ratio-labels">
                            <span class="ratio-label left" data-i18n="form.vg_label">D√Ωm (VG)</span>
                            <span class="ratio-label right" data-i18n="form.pg_label">Chu≈• (PG)</span>
                        </div>
                        <div class="slider-container">
                            <button class="slider-btn" onclick="adjustSvRatio(-5)">‚óÄ</button>
                            <div class="slider-wrapper-with-limits">
                                <span class="slider-limit left">100</span>
                                <div class="slider-wrapper ratio-slider-wrapper">
                                    <div class="slider-disabled-zone left" id="svSliderDisabledLeft"></div>
                                    <div class="slider-disabled-zone right" id="svSliderDisabledRight"></div>
                                    <input type="range" id="svVgPgRatio" min="0" max="100" value="50" class="ratio-slider" oninput="updateSvRatioDisplay()">
                                    <div class="slider-track" id="svSliderTrack"></div>
                                    <div class="slider-center-mark"></div>
                                </div>
                                <span class="slider-limit right">100</span>
                            </div>
                            <button class="slider-btn" onclick="adjustSvRatio(5)">‚ñ∂</button>
                        </div>
                        <div class="ratio-display">
                            <span id="svVgValue">50</span>:<span id="svPgValue">50</span>
                        </div>
                        <div class="ratio-description" id="svRatioDescription">
                            Vyv√°≈æen√Ω pomƒõr p√°ry a chuti, vhodn√Ω pro vƒõt≈°inu za≈ô√≠zen√≠.
                        </div>
                        <div id="svRatioLimitWarning" class="input-warning hidden"></div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="neon-button secondary" onclick="showPage('mode-select')">
                        <span data-i18n="form.back">‚óÄ ZPƒöT</span>
                    </button>
                    <button class="neon-button btn-green" onclick="calculateShakeVape()">
                        <span data-i18n="form.mix_button">MIXUJ!</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
            </div>

            <!-- ============================================ -->
            <!-- LIQUID PRO - Neonovƒõ ƒçerven√Ω formul√°≈ô -->
            <!-- ============================================ -->
            <div id="form-liquidpro" class="form-content form-red">
                <!-- Mno≈æstv√≠ liquidu -->
                <div class="form-group">
                    <label class="form-label" data-i18n="form.amount_label">
                        Kolik liquidu chci nam√≠chat?
                    </label>
                    <div class="input-wrapper">
                        <input type="number" id="proTotalAmount" min="1" max="1000" value="100" class="neon-input">
                        <span class="input-unit">ml</span>
                    </div>
                </div>

                <!-- Nikotinov√° b√°ze s VG/PG sliderem -->
                <div class="form-group">
                    <label class="form-label">
                        <span data-i18n="form.nicotine_base_label">Jak silnou m√°m nikotinovou b√°zi?</span>
                        <span class="label-hint" data-i18n="form.nicotine_base_hint">Tyto √∫daje opi≈° z obalu nikotinu</span>
                    </label>
                    <div class="nicotine-base-container">
                        <select id="proNicotineType" class="neon-select" onchange="updateProNicotineType()">
                            <option value="none" data-i18n="form.nicotine_none">Bez nikotinu</option>
                            <option value="freebase" data-i18n="form.nicotine_booster">Nikotin booster</option>
                            <option value="salt" data-i18n="form.nicotine_salt">Nikotinov√° s≈Øl</option>
                        </select>
                        <div id="proNicotineStrengthContainer" class="hidden">
                            <input type="number" id="proNicotineBaseStrength" min="3" max="200" value="20" class="neon-input medium">
                            <span class="input-unit">mg/ml</span>
                        </div>
                    </div>
                    <div id="proNicotineRatioContainer" class="hidden">
                        <label class="form-label-small" data-i18n="form.nicotine_ratio_label">Pomƒõr VG/PG v koncentr√°tu nikotinu</label>
                        <div class="ratio-container compact">
                            <div class="ratio-labels">
                                <span class="ratio-label left" data-i18n="form.vg_label">D√Ωm (VG)</span>
                                <span class="ratio-label right" data-i18n="form.pg_label">Chu≈• (PG)</span>
                            </div>
                            <div class="slider-container">
                                <button class="slider-btn small" onclick="adjustProNicRatio(-5)">‚óÄ</button>
                                <div class="slider-wrapper">
                                    <input type="range" id="proNicotineRatioSlider" min="0" max="100" value="50" class="ratio-slider" oninput="updateProNicRatioDisplay()">
                                    <div class="slider-track" id="proNicotineTrackRatio"></div>
                                </div>
                                <button class="slider-btn small" onclick="adjustProNicRatio(5)">‚ñ∂</button>
                            </div>
                            <div class="ratio-display small">
                                <span id="proNicVgValue">50</span>:<span id="proNicPgValue">50</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- C√≠lov√° s√≠la nikotinu -->
                <div class="form-group" id="proTargetNicotineGroup">
                    <label class="form-label" data-i18n="form.target_nicotine_label">
                        Jak silnou chci fin√°ln√≠ nikotinovou b√°zi na vapov√°n√≠?
                    </label>
                    <div class="target-nicotine-container">
                        <div class="slider-container">
                            <button class="slider-btn" onclick="adjustProTargetNicotine(-1)">‚óÄ</button>
                            <div class="slider-wrapper">
                                <input type="range" id="proTargetNicotine" min="0" max="45" value="0" class="nicotine-slider">
                                <div class="slider-track nicotine-track" id="proNicotineTrack"></div>
                            </div>
                            <button class="slider-btn" onclick="adjustProTargetNicotine(1)">‚ñ∂</button>
                        </div>
                        <div class="nicotine-display">
                            <span id="proTargetNicotineValue">0</span> mg/ml
                        </div>
                    </div>
                </div>

                <!-- P≈ô√≠chu≈• 1 s VG/PG sliderem -->
                <div class="form-group pro-flavor-group" id="proFlavorGroup1">
                    <label class="form-label">
                        <span data-i18n="form.flavor_label">P≈ô√≠chu≈•</span>
                        <span class="flavor-number"> 1</span>
                    </label>
                    <div class="flavor-container">
                        <select id="proFlavorType1" class="neon-select pro-flavor-select" data-flavor-index="1" onchange="updateProFlavorType(1)">
                            <option value="none" data-i18n="form.flavor_none">≈Ω√°dn√° (bez p≈ô√≠chutƒõ)</option>
                            <option value="fruit" data-i18n="form.flavor_fruit">Ovoce (jahoda, jablko)</option>
                            <option value="citrus" data-i18n="form.flavor_citrus">Citr√≥nov√© (citron, limeta)</option>
                            <option value="berry" data-i18n="form.flavor_berry">Bobulov√© (bor≈Øvka, malina)</option>
                            <option value="tropical" data-i18n="form.flavor_tropical">Tropick√© (ananas, mango)</option>
                            <option value="tobacco" data-i18n="form.flavor_tobacco">Tab√°kov√© (klasick√Ω, kub√°nsk√Ω)</option>
                            <option value="menthol" data-i18n="form.flavor_menthol">Mentol / M√°tov√©</option>
                            <option value="candy" data-i18n="form.flavor_candy">Sladkosti (cukrov√≠, karamel)</option>
                            <option value="dessert" data-i18n="form.flavor_dessert">Dezerty (kol√°ƒç, pudink)</option>
                            <option value="bakery" data-i18n="form.flavor_bakery">Z√°kusky (tyƒçinka, donut)</option>
                            <option value="biscuit" data-i18n="form.flavor_biscuit">Pi≈°kotov√© (vanilka, m√°slo)</option>
                            <option value="drink" data-i18n="form.flavor_drink">N√°pojov√© (kola, ƒçaj)</option>
                            <option value="tobaccosweet" data-i18n="form.flavor_tobaccosweet">Tab√°k + sladk√© (custard tobacco)</option>
                            <option value="nuts" data-i18n="form.flavor_nuts">O≈ô√≠≈°kov√© (ara≈°√≠d, l√≠skov√Ω)</option>
                            <option value="spice" data-i18n="form.flavor_spice">Ko≈ôenƒõn√© (sko≈ôice, pern√≠k)</option>
                        </select>
                        <div id="proFlavorStrengthContainer1" class="hidden">
                            <div class="slider-container small">
                                <button class="slider-btn small" onclick="adjustProFlavor(1, -1)">‚óÄ</button>
                                <div class="slider-wrapper">
                                    <input type="range" id="proFlavorStrength1" min="0" max="30" value="10" class="flavor-slider pro-flavor-slider" data-flavor-index="1" oninput="updateProFlavorStrength(1)">
                                    <div class="slider-track flavor-track" id="proFlavorTrack1"></div>
                                </div>
                                <button class="slider-btn small" onclick="adjustProFlavor(1, 1)">‚ñ∂</button>
                            </div>
                            <div class="flavor-display">
                                <span id="proFlavorValue1">10</span>%
                            </div>
                            
                            <!-- VG/PG pomƒõr pro p≈ô√≠chu≈• -->
                            <div class="form-group-sub">
                                <label class="form-label-small" data-i18n="form.flavor_ratio_label">Pomƒõr VG/PG v koncentr√°tu p≈ô√≠chutƒõ</label>
                                <div class="ratio-container compact">
                                    <div class="ratio-labels">
                                        <span class="ratio-label left" data-i18n="form.vg_label">D√Ωm (VG)</span>
                                        <span class="ratio-label right" data-i18n="form.pg_label">Chu≈• (PG)</span>
                                    </div>
                                    <div class="slider-container">
                                        <button class="slider-btn small" onclick="adjustProFlavorRatio(1, -5)">‚óÄ</button>
                                        <div class="slider-wrapper">
                                            <input type="range" id="proFlavorRatioSlider1" min="0" max="100" value="0" class="ratio-slider pro-flavor-ratio" data-flavor-index="1" oninput="updateProFlavorRatioDisplay(1)">
                                            <div class="slider-track" id="proFlavorTrackRatio1"></div>
                                        </div>
                                        <button class="slider-btn small" onclick="adjustProFlavorRatio(1, 5)">‚ñ∂</button>
                                    </div>
                                    <div class="ratio-display small">
                                        <span id="proFlavorVgValue1">0</span>:<span id="proFlavorPgValue1">100</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Container pro dodateƒçn√© p≈ô√≠chutƒõ (2-4) -->
                <div id="proAdditionalFlavorsContainer"></div>

                <!-- Tlaƒç√≠tko pro p≈ôid√°n√≠ dal≈°√≠ p≈ô√≠chutƒõ -->
                <div class="form-group add-flavor-group" id="proAddFlavorGroup">
                    <button type="button" class="neon-button secondary add-flavor-btn" onclick="addProFlavor()">
                        <span data-i18n="form.add_flavor">+ P≈ôidat dal≈°√≠ p≈ô√≠chu≈•</span>
                    </button>
                    <span class="flavor-count-hint" id="proFlavorCountHint" data-i18n="form.flavor_count_hint">(max 4 p≈ô√≠chutƒõ)</span>
                </div>

                <!-- Celkov√© procento p≈ô√≠chut√≠ -->
                <div class="form-group flavor-total-group" id="proFlavorTotalGroup">
                    <div class="flavor-total-display">
                        <span data-i18n="form.total_flavor_percent">Celkem p≈ô√≠chut√≠:</span>
                        <strong><span id="proTotalFlavorPercent">0</span>%</strong>
                        <span class="flavor-total-warning hidden" id="proFlavorTotalWarning" data-i18n="form.flavor_total_warning">(doporuƒçeno max 25%)</span>
                    </div>
                </div>

                <!-- Pomƒõr VG/PG ve v√Ωsledn√©m liquidu -->
                <div class="form-group">
                    <label class="form-label" data-i18n="form.vgpg_label">
                        Pomƒõr VG/PG ve v√Ωsledn√©m liquidu
                    </label>
                    <div class="ratio-container">
                        <div class="ratio-labels">
                            <span class="ratio-label left" data-i18n="form.vg_label">D√Ωm (VG)</span>
                            <span class="ratio-label right" data-i18n="form.pg_label">Chu≈• (PG)</span>
                        </div>
                        <div class="slider-container">
                            <button class="slider-btn" onclick="adjustProRatio(-5)">‚óÄ</button>
                            <div class="slider-wrapper-with-limits">
                                <span class="slider-limit left">100</span>
                                <div class="slider-wrapper ratio-slider-wrapper">
                                    <div class="slider-disabled-zone left" id="proSliderDisabledLeft"></div>
                                    <div class="slider-disabled-zone right" id="proSliderDisabledRight"></div>
                                    <input type="range" id="proVgPgRatio" min="0" max="100" value="50" class="ratio-slider" oninput="updateProRatioDisplay()">
                                    <div class="slider-track" id="proSliderTrack"></div>
                                    <div class="slider-center-mark"></div>
                                </div>
                                <span class="slider-limit right">100</span>
                            </div>
                            <button class="slider-btn" onclick="adjustProRatio(5)">‚ñ∂</button>
                        </div>
                        <div class="ratio-display">
                            <span id="proVgValue">50</span>:<span id="proPgValue">50</span>
                        </div>
                        <div id="proRatioLimitWarning" class="input-warning hidden"></div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="neon-button secondary" onclick="showPage('mode-select')">
                        <span data-i18n="form.back">‚óÄ ZPƒöT</span>
                    </button>
                    <button class="neon-button btn-red" onclick="calculateProMix()">
                        <span data-i18n="form.mix_button">MIXUJ!</span>
                        <div class="button-glow"></div>
                    </button>
                </div>
            </div>
        </section>

        <!-- V√Ωsledky -->
        <section id="results" class="page">
            <h2 class="page-title" data-i18n="results.title">Tv≈Øj recept</h2>
            
            <div class="results-summary">
                <div class="summary-item">
                    <span class="summary-label" data-i18n="results.total_volume">Celkov√Ω objem:</span>
                    <span class="summary-value" id="resultTotal">100 ml</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label" data-i18n="results.ratio">Pomƒõr VG/PG:</span>
                    <span class="summary-value" id="resultRatio">50:50</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label" data-i18n="results.nicotine">S√≠la nikotinu:</span>
                    <span class="summary-value" id="resultNicotine">0 mg/ml</span>
                </div>
            </div>

            <div class="results-table-container">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th data-i18n="results.table_component">Slo≈æka</th>
                            <th data-i18n="results.table_volume">Objem (ml)</th>
                            <th data-i18n="results.table_drops">Kapky</th>
                            <th data-i18n="results.table_percent">Procento</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                    </tbody>
                </table>
            </div>

            <div class="results-notes">
                <h4 data-i18n="results.notes_title">Pozn√°mky k m√≠ch√°n√≠:</h4>
                <ul>
                    <li data-i18n="results.notes_1">Nejprve p≈ôidejte nikotin (pokud pou≈æ√≠v√°te)</li>
                    <li data-i18n="results.notes_2">Pot√© p≈ôidejte p≈ô√≠chutƒõ</li>
                    <li data-i18n="results.notes_3">Nakonec dopl≈àte PG a VG</li>
                    <li data-i18n="results.notes_4">D≈Økladnƒõ prot≈ôepejte a nechte zr√°t 1-2 t√Ωdny</li>
                </ul>
            </div>

            <div class="button-group">
                <button class="neon-button secondary" onclick="showPage('form')">
                    <span data-i18n="results.edit">‚óÄ UPRAVIT</span>
                </button>
                <button class="neon-button" onclick="showSaveRecipeModal()" id="saveRecipeBtn">
                    <span data-i18n="results.save">ULO≈ΩIT</span>
                </button>
            </div>
        </section>

        <!-- P≈ôidat p≈ôipom√≠nku modal -->
        <div id="addReminderModal" class="modal hidden">
            <div class="modal-content">
                <button class="menu-close" onclick="hideAddReminderModal()">‚úï</button>
                <h3 class="menu-title" data-i18n="reminder.add_title">P≈ôidat m√≠ch√°n√≠</h3>
                <form class="save-recipe-form" onsubmit="return saveReminderFromModal(event)">
                    <div class="form-group-login">
                        <label class="login-label" data-i18n="save_recipe.mix_date">Datum m√≠ch√°n√≠</label>
                        <input type="date" id="reminderMixDate" class="login-input date-picker-input" onchange="updateReminderModalDate()" required>
                    </div>
                    <div class="form-group-login">
                        <label class="login-label" data-i18n="save_recipe.reminder_date">Datum p≈ôipom√≠nky</label>
                        <input type="date" id="reminderRemindDate" class="login-input date-picker-input" required>
                    </div>
                    <div class="form-group-login">
                        <label class="login-label" data-i18n="reminder.note_label">Pozn√°mka</label>
                        <textarea id="reminderNote" class="login-input" rows="3" data-i18n-placeholder="reminder.note_placeholder" placeholder="Voliteln√° pozn√°mka..."></textarea>
                    </div>
                    <div class="reminder-info">
                        <span class="info-icon">‚ÑπÔ∏è</span>
                        <span id="reminderModalInfo" data-i18n="save_recipe.reminder_info_short">Datum p≈ôipom√≠nky bylo automaticky vypoƒçteno na z√°kladƒõ typu p≈ô√≠chutƒõ.</span>
                    </div>
                    <button type="submit" class="neon-button primary" data-i18n="common.confirm">Potvrdit</button>
                </form>
            </div>
        </div>

        <!-- Ulo≈æen√≠ receptu modal -->
        <div id="saveRecipeModal" class="modal hidden">
            <div class="modal-content">
                <button class="menu-close" onclick="hideSaveRecipeModal()">‚úï</button>
                <h3 class="menu-title" id="saveRecipeModalTitle" data-i18n="save_recipe.title">Ulo≈æit recept</h3>
                <form class="save-recipe-form" onsubmit="return saveRecipe(event)">
                    <div class="form-group-login">
                        <label class="login-label" data-i18n="save_recipe.name_label">N√°zev receptu *</label>
                        <input type="text" id="recipeName" class="login-input" data-i18n-placeholder="save_recipe.name_placeholder" placeholder="M≈Øj obl√≠ben√Ω liquid" required>
                    </div>
                    <div class="form-group-login">
                        <label class="login-label" data-i18n="save_recipe.description_label">Popis</label>
                        <textarea id="recipeDescription" class="login-input contact-textarea" data-i18n-placeholder="save_recipe.description_placeholder" placeholder="Popis receptu, pozn√°mky k zr√°n√≠..."></textarea>
                    </div>
                    <div class="form-group-login">
                        <label class="login-label" data-i18n="save_recipe.rating_label">Hodnocen√≠</label>
                        <div class="star-rating" id="starRating">
                            <span class="star" data-rating="1">‚òÖ</span>
                            <span class="star" data-rating="2">‚òÖ</span>
                            <span class="star" data-rating="3">‚òÖ</span>
                            <span class="star" data-rating="4">‚òÖ</span>
                            <span class="star" data-rating="5">‚òÖ</span>
                        </div>
                        <input type="hidden" id="recipeRating" value="0">
                    </div>
                    <div class="form-group-login">
                        <label class="login-label" data-i18n="save_recipe.products_label">Pou≈æit√© produkty</label>
                        <div class="linked-products-selector" id="linkedProductsSelector">
                            <div class="selected-products-list" id="selectedProductsList">
                                <!-- Vybran√© produkty budou p≈ôid√°ny dynamicky -->
                            </div>
                            <button type="button" class="add-product-btn" onclick="addProductRow()">
                                <span class="add-icon">+</span> <span data-i18n="save_recipe.add_product">P≈ôidat produkt</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Sekce p≈ôipom√≠nky zr√°n√≠ -->
                    <div class="form-group-login reminder-section">
                        <div class="reminder-toggle">
                            <label class="toggle-switch">
                                <input type="checkbox" id="enableReminder" onchange="toggleReminderFields()">
                                <span class="toggle-slider"></span>
                            </label>
                            <label class="login-label toggle-label" for="enableReminder" data-i18n="save_recipe.reminder_enable">P≈ôipomenout, a≈æ bude liquid vyzr√°l√Ω</label>
                        </div>
                        <div id="reminderFields" class="reminder-fields hidden">
                            <div class="reminder-row">
                                <div class="reminder-field">
                                    <label class="login-label" data-i18n="save_recipe.mix_date">Datum m√≠ch√°n√≠</label>
                                    <input type="date" id="mixDate" class="login-input date-picker-input" onchange="updateReminderDate()">
                                </div>
                                <div class="reminder-field">
                                    <label class="login-label" data-i18n="save_recipe.reminder_date">Datum p≈ôipom√≠nky</label>
                                    <input type="date" id="reminderDate" class="login-input date-picker-input">
                                </div>
                            </div>
                            <div class="reminder-field" style="margin-top: 10px;">
                                <label class="login-label" data-i18n="reminder.note_label">Pozn√°mka</label>
                                <textarea id="saveRecipeReminderNote" class="login-input" rows="2" data-i18n-placeholder="reminder.note_placeholder" placeholder="Voliteln√° pozn√°mka..."></textarea>
                            </div>
                            <div class="reminder-info">
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <span id="reminderInfoText" data-i18n="save_recipe.reminder_info">Datum p≈ôipom√≠nky bylo automaticky vypoƒçteno na z√°kladƒõ typu p≈ô√≠chutƒõ.</span>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="neon-button" id="saveRecipeSubmitBtn"><span data-i18n="save_recipe.save_button">Ulo≈æit recept</span></button>
                </form>
            </div>
        </div>

        <!-- M√© recepty str√°nka -->
        <section id="my-recipes" class="page">
            <h2 class="page-title" data-i18n="recipes.title">M√© recepty</h2>
            
            <!-- Vyhled√°vac√≠ li≈°ta recept≈Ø -->
            <div class="recipes-search-bar">
                <div class="search-row">
                    <div class="search-field search-text">
                        <label for="recipeSearchText" data-i18n="recipes.search_label">üîç Hledat</label>
                        <input type="text" id="recipeSearchText" data-i18n-placeholder="recipes.search_placeholder" placeholder="N√°zev nebo popis..." oninput="filterRecipes()">
                    </div>
                    <div class="search-field search-rating">
                        <label data-i18n="recipes.rating_label">‚≠ê Hodnocen√≠</label>
                        <div class="search-stars" id="recipeSearchStars">
                            <span class="search-star" data-rating="1" onclick="setRecipeSearchRating(1)">‚òÜ</span>
                            <span class="search-star" data-rating="2" onclick="setRecipeSearchRating(2)">‚òÜ</span>
                            <span class="search-star" data-rating="3" onclick="setRecipeSearchRating(3)">‚òÜ</span>
                            <span class="search-star" data-rating="4" onclick="setRecipeSearchRating(4)">‚òÜ</span>
                            <span class="search-star" data-rating="5" onclick="setRecipeSearchRating(5)">‚òÜ</span>
                            <button class="clear-rating-btn" onclick="clearRecipeSearchRating()" data-i18n-title="recipes.clear_filter" title="Zru≈°it filtr">‚úï</button>
                        </div>
                    </div>
                </div>
                <div class="search-results-info" id="recipeSearchResultsInfo"></div>
            </div>
            
            <div id="recipesListContainer">
                <p class="no-recipes-text" data-i18n="recipes.no_recipes">Zat√≠m nem√°te ≈æ√°dn√© ulo≈æen√© recepty.</p>
            </div>
            <div class="button-group">
                <button class="neon-button secondary" onclick="showPage('intro')">
                    <span data-i18n="recipes.back">‚óÄ ZPƒöT</span>
                </button>
            </div>
        </section>

        <!-- Detail receptu str√°nka -->
        <section id="recipe-detail" class="page">
            <h2 class="page-title" id="recipeDetailTitle" data-i18n="recipe_detail.title">Detail receptu</h2>
            
            <div class="recipe-detail-content" id="recipeDetailContent">
                <!-- Napln√≠ se JavaScriptem -->
            </div>
            
            <div class="button-group">
                <button class="neon-button secondary" onclick="showPage('my-recipes')">
                    <span data-i18n="recipe_detail.back">ZPƒöT</span>
                </button>
                <button class="neon-button" onclick="editSavedRecipe()">
                    <span data-i18n="recipe_detail.edit">UPRAVIT</span>
                </button>
                <button class="neon-button btn-green" onclick="shareRecipe()">
                    <span data-i18n="recipe_detail.share">SD√çLET</span>
                </button>
                <button class="neon-button btn-red" onclick="deleteRecipe()">
                    <span data-i18n="recipe_detail.delete">SMAZAT</span>
                </button>
            </div>
        </section>

        <!-- Sd√≠len√Ω recept str√°nka -->
        <section id="shared-recipe" class="page">
            <h2 class="page-title" id="sharedRecipeTitle" data-i18n="recipe_detail.shared_title">Sd√≠len√Ω recept</h2>
            
            <div class="recipe-detail-content" id="sharedRecipeContent">
                <!-- Napln√≠ se JavaScriptem -->
            </div>
            
            <div class="button-group">
                <button class="neon-button" onclick="showPage('intro')">
                    <span data-i18n="recipe_detail.home">üè† DOM≈Æ</span>
                </button>
            </div>
        </section>

        <!-- Obl√≠ben√© produkty - seznam -->
        <section id="favorite-products" class="page">
            <h2 class="page-title" data-i18n="products.title">Obl√≠ben√© produkty</h2>
            
            <div class="products-header">
                <button class="neon-button btn-green" onclick="showAddProductForm()">
                    <span data-i18n="products.add_new">+ P≈òIDAT NOV√ù</span>
                </button>
            </div>
            
            <!-- Vyhled√°vac√≠ li≈°ta -->
            <div class="products-search-bar">
                <div class="search-row">
                    <div class="search-field search-text">
                        <label for="productSearchText" data-i18n="products.search_label">üîç Hledat</label>
                        <input type="text" id="productSearchText" data-i18n-placeholder="products.search_placeholder" placeholder="N√°zev nebo popis..." oninput="filterProducts()">
                    </div>
                    <div class="search-field search-type">
                        <label for="productSearchType" data-i18n="products.type_label">üì¶ Typ</label>
                        <select id="productSearchType" onchange="filterProducts()">
                            <option value="" data-i18n="products.type_all">V≈°echny typy</option>
                            <option value="vg" data-i18n="products.type_vg">VG (Glycerin)</option>
                            <option value="pg" data-i18n="products.type_pg">PG (Propylenglykol)</option>
                            <option value="flavor" data-i18n="products.type_flavor">P≈ô√≠chu≈•</option>
                            <option value="nicotine_booster" data-i18n="products.type_nicotine_booster">Nikotin booster</option>
                            <option value="nicotine_salt" data-i18n="products.type_nicotine_salt">Nikotinov√° s≈Øl</option>
                        </select>
                    </div>
                    <div class="search-field search-rating">
                        <label data-i18n="products.rating_label">‚≠ê Hodnocen√≠</label>
                        <div class="search-stars" id="searchStars">
                            <span class="search-star" data-rating="1" onclick="setSearchRating(1)">‚òÜ</span>
                            <span class="search-star" data-rating="2" onclick="setSearchRating(2)">‚òÜ</span>
                            <span class="search-star" data-rating="3" onclick="setSearchRating(3)">‚òÜ</span>
                            <span class="search-star" data-rating="4" onclick="setSearchRating(4)">‚òÜ</span>
                            <span class="search-star" data-rating="5" onclick="setSearchRating(5)">‚òÜ</span>
                            <button class="clear-rating-btn" onclick="clearSearchRating()" data-i18n-title="products.clear_filter" title="Zru≈°it filtr">‚úï</button>
                        </div>
                    </div>
                </div>
                <div class="search-results-info" id="searchResultsInfo"></div>
            </div>
            
            <div id="productsListContainer">
                <p class="no-products-text" data-i18n="products.no_products">Zat√≠m nem√°te ≈æ√°dn√© obl√≠ben√© produkty.</p>
            </div>
            
            <div class="button-group">
                <button class="neon-button secondary" onclick="showPage('intro')">
                    <span data-i18n="products.back">‚óÄ ZPƒöT</span>
                </button>
            </div>
        </section>

        <!-- Detail produktu str√°nka -->
        <section id="product-detail" class="page">
            <h2 class="page-title" id="productDetailTitle" data-i18n="product_detail.title">Detail produktu</h2>
            
            <div class="product-detail-content" id="productDetailContent">
                <!-- Napln√≠ se JavaScriptem -->
            </div>
            
            <div class="button-group">
                <button class="neon-button secondary" onclick="showFavoriteProducts()">
                    <span data-i18n="product_detail.back">ZPƒöT</span>
                </button>
                <button class="neon-button" onclick="editProduct()">
                    <span data-i18n="product_detail.edit">UPRAVIT</span>
                </button>
                <button class="neon-button btn-green" onclick="shareProduct()">
                    <span data-i18n="product_detail.share">SD√çLET</span>
                </button>
                <button class="neon-button btn-red" onclick="deleteProduct()">
                    <span data-i18n="product_detail.delete">SMAZAT</span>
                </button>
            </div>
        </section>

        <!-- Formul√°≈ô pro p≈ôid√°n√≠/√∫pravu produktu -->
        <section id="product-form" class="page">
            <h2 class="page-title" id="productFormTitle" data-i18n="product_form.add_title">P≈ôidat produkt</h2>
            
            <form id="productForm" class="product-form" onsubmit="return saveProduct(event)">
                <div class="form-group">
                    <label for="productName" data-i18n="product_form.name_label">N√°zev *</label>
                    <input type="text" id="productName" required maxlength="200" data-i18n-placeholder="product_form.name_placeholder" placeholder="N√°zev produktu">
                </div>
                
                <div class="form-group">
                    <label for="productType" data-i18n="product_form.type_label">Typ produktu *</label>
                    <select id="productType" required class="product-select">
                        <option value="" data-i18n="product_form.type_select">-- Vyberte typ --</option>
                        <option value="vg" data-i18n="products.type_vg">VG (Glycerin)</option>
                        <option value="pg" data-i18n="products.type_pg">PG (Propylenglykol)</option>
                        <option value="flavor" data-i18n="products.type_flavor">P≈ô√≠chu≈•</option>
                        <option value="nicotine_booster" data-i18n="products.type_nicotine_booster">Nikotin booster</option>
                        <option value="nicotine_salt" data-i18n="products.type_nicotine_salt">Nikotinov√° s≈Øl</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="productDescription" data-i18n="product_form.description_label">Popis</label>
                    <textarea id="productDescription" maxlength="2000" rows="4" data-i18n-placeholder="product_form.description_placeholder" placeholder="Popis produktu..."></textarea>
                </div>
                
                <div class="form-group">
                    <label data-i18n="product_form.rating_label">Hodnocen√≠</label>
                    <div class="star-rating product-star-rating" id="productStarRating">
                        <span class="star" data-rating="1">‚òÜ</span>
                        <span class="star" data-rating="2">‚òÜ</span>
                        <span class="star" data-rating="3">‚òÜ</span>
                        <span class="star" data-rating="4">‚òÜ</span>
                        <span class="star" data-rating="5">‚òÜ</span>
                    </div>
                    <input type="hidden" id="productRating" value="0">
                </div>
                
                <div class="form-group">
                    <label for="productUrl" data-i18n="product_form.url_label">URL odkaz na produkt</label>
                    <input type="url" id="productUrl" data-i18n-placeholder="product_form.url_placeholder" placeholder="https://...">
                </div>
                
                <div class="form-group">
                    <label data-i18n="product_form.image_label">Fotografie</label>
                    <div class="image-upload-container">
                        <div class="image-preview" id="productImagePreview">
                            <span class="image-placeholder">üì∑</span>
                        </div>
                        <div class="image-upload-buttons">
                            <label class="neon-button secondary upload-btn">
                                <span data-i18n="product_form.image_gallery">Vybrat z galerie</span>
                                <input type="file" id="productImageFile" accept="image/*" onchange="previewProductImage(event)" hidden>
                            </label>
                            <button type="button" class="neon-button secondary mobile-only" onclick="captureProductPhoto()">
                                <span data-i18n="product_form.image_camera">Vyfotit</span>
                            </button>
                        </div>
                        <input type="hidden" id="productImageUrl" value="">
                    </div>
                </div>
                
                <input type="hidden" id="editingProductId" value="">
                
                <div class="button-group form-buttons">
                    <button type="button" class="neon-button secondary" onclick="cancelProductForm()">
                        <span data-i18n="product_form.back">‚óÄ ZPƒöT</span>
                    </button>
                    <button type="submit" class="neon-button btn-green">
                        <span data-i18n="product_form.save">ULO≈ΩIT</span>
                    </button>
                </div>
            </form>
        </section>
    </div>

    <script src="/app.js?v=20260112a"></script>
    
    <!-- Firebase Cloud Messaging -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging-compat.js"></script>
    <script src="/fcm.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('LiquiMixer SW registered:', registration.scope);
                        
                        // Kontrola aktualizac√≠
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            console.log('LiquiMixer SW: Update found');
                            
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Nov√° verze je p≈ôipravena
                                    console.log('LiquiMixer SW: New version ready');
                                    if (confirm('Je dostupn√° nov√° verze aplikace. Chcete ji naƒç√≠st?')) {
                                        newWorker.postMessage('skipWaiting');
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.log('LiquiMixer SW registration failed:', error);
                    });
            });
            
            // Poslouch√°n√≠ zpr√°v od Service Workeru
            navigator.serviceWorker.addEventListener('message', (event) => {
                if (event.data && event.data.type === 'SW_UPDATED') {
                    console.log('LiquiMixer SW: Updated to', event.data.version);
                    // Automaticky obnovit str√°nku p≈ôi aktualizaci
                    window.location.reload();
                }
            });
            
            // Kontrola aktualizac√≠ p≈ôi n√°vratu na str√°nku
            document.addEventListener('visibilitychange', () => {
                if (document.visibilityState === 'visible') {
                    navigator.serviceWorker.ready.then((registration) => {
                        registration.update();
                    });
                }
            });
        }
    </script>
    
    <!-- Mode button text animation - split text into characters -->
    <script>
        // Glob√°ln√≠ funkce pro animaci textu tlaƒç√≠tek - V≈ΩDY p≈ôeanimuje
        window.animateModeButtons = function() {
            const modeTitles = document.querySelectorAll('.mode-button .mode-title');
            
            modeTitles.forEach((title) => {
                // Z√≠skej p≈Øvodn√≠ data-i18n kl√≠ƒç pro z√≠sk√°n√≠ spr√°vn√©ho textu
                const i18nKey = title.getAttribute('data-i18n');
                let text = '';
                
                // Pokud m√°me i18n syst√©m, pou≈æij p≈ôeklad
                if (window.i18n && window.i18n.t && i18nKey) {
                    text = window.i18n.t(i18nKey);
                }
                
                // Fallback na textContent (bez span≈Ø)
                if (!text || text === i18nKey) {
                    // Z√≠skej text buƒè z existuj√≠c√≠ch span≈Ø nebo p≈ô√≠mo
                    const spans = title.querySelectorAll('.char');
                    if (spans.length > 0) {
                        text = Array.from(spans).map(s => s.textContent === '\u00A0' ? ' ' : s.textContent).join('');
                    } else {
                        text = title.textContent;
                    }
                }
                
                text = text.trim();
                if (!text) return;
                
                // Vyma≈æ obsah
                title.innerHTML = '';
                
                // Zjisti barvu podle typu tlaƒç√≠tka
                const isCyan = title.closest('.mode-button').classList.contains('cyan');
                const baseDelay = isCyan ? 0 : 0.6; // Pink tlaƒç√≠tko m√° zpo≈ædƒõn√≠
                
                // Vytvo≈ô span pro ka≈æd√Ω znak
                [...text].forEach((char, index) => {
                    const span = document.createElement('span');
                    span.className = 'char';
                    span.textContent = char === ' ' ? '\u00A0' : char;
                    span.style.animationDelay = `${baseDelay + (index * 0.08)}s`;
                    title.appendChild(span);
                });
            });
        };
    </script>
    
    <!-- Install prompt for PWA (Android) -->
    <div id="installPrompt" class="install-prompt hidden">
        <div class="install-content">
            <p>Nainstalovat LiquiMixer na v√°≈° telefon?</p>
            <div class="install-buttons">
                <button id="installBtn" class="neon-button small">Instalovat</button>
                <button id="dismissBtn" class="neon-button secondary small">Pozdƒõji</button>
            </div>
        </div>
    </div>
    
    <!-- Install prompt for iOS -->
    <div id="iosInstallPrompt" class="install-prompt ios-prompt hidden">
        <div class="install-content">
            <p>Nainstalovat LiquiMixer na v√°≈° iPhone?</p>
            <div class="ios-instructions">
                <div class="ios-step">
                    <span class="ios-step-number">1</span>
                    <span>Klepnƒõte na ikonu <span class="ios-share-icon">‚¨Ü</span> (Sd√≠let)</span>
                </div>
                <div class="ios-step">
                    <span class="ios-step-number">2</span>
                    <span>Vyberte "P≈ôidat na plochu"</span>
                </div>
                <div class="ios-step">
                    <span class="ios-step-number">3</span>
                    <span>Potvrƒète klepnut√≠m na "P≈ôidat"</span>
                </div>
            </div>
            <div class="install-buttons">
                <button id="iosDismissBtn" class="neon-button secondary small">Rozum√≠m</button>
            </div>
        </div>
    </div>
</body>
</html>

